{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}elemdemographics
       {txt}log:  {res}/home/research/ca_ed_lab/users/chesun/gsr/caschls/log/build/sample/elemdemographics.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res} 7 Apr 2022, 11:05:00
{txt}
{com}. 
. /* The following block of code rename sex and self reported grade variables to be consistent across datasets. THis creates temp datasets to build
> demographics datasets from in the following block of code */
. local runelemrename = 0 //a macro toggle for renamign variables
{txt}
{com}. if `runelemrename' == 1 {c -(}
.   use $clndtadir/elementary/elem1415, clear
.   rename ele3 sex
.   label var sex "Sex of student"
.   rename ele4 selfreportgrade
.   label var selfreportgrade "Self-reported grade"
.   save $projdir/dta/demographics/temp/elementary/elem1415temp, replace
. 
.   use $clndtadir/elementary/elem1516, clear
.   rename ele3 sex
.   label var sex "Sex of student"
.   rename ele4 selfreportgrade
.   label var selfreportgrade "Self-reported grade"
.   save $projdir/dta/demographics/temp/elementary/elem1516temp, replace
. 
.   use $clndtadir/elementary/elem1617, clear
.   rename ele2 sex
.   label var sex "Sex of student"
.   rename ele3 selfreportgrade
.   label var selfreportgrade "Self-reported grade"
.   save $projdir/dta/demographics/temp/elementary/elem1617temp, replace
. 
.   use $clndtadir/elementary/elem1718, clear
.   rename ele2 sex
.   label var sex "Sex of student"
.   rename ele3 selfreportgrade
.   label var selfreportgrade "Self-reported grade"
.   save $projdir/dta/demographics/temp/elementary/elem1718temp, replace
. 
.   use $clndtadir/elementary/elem1819, clear
.   rename ele2 sex
.   label var sex "Sex of student"
.   rename ele3 selfreportgrade
.   label var selfreportgrade "Self-reported grade"
.   save $projdir/dta/demographics/temp/elementary/elem1819temp, replace
. 
. {c )-}
{txt}
{com}. 
. 
. /* The following block of code builds elementary survey demographics dataset and merges with enrollment dataset */
. 
. local years `" "1415" "1516" "1617" "1718" "1819" "' //local macro for dataset years
{txt}
{com}. 
.  foreach i of local years {c -(}
{txt}  2{com}.    use $projdir/dta/demographics/temp/elementary/elem`i'temp, clear
{txt}  3{com}. 
.    /* gaenerate variables indicating the sex of each student */
.    // Note: in elementary datasets the var sex = 1 if female and 2 if male
. 
.    gen byte female = 0
{txt}  4{com}.    replace female = 1 if sex == 1
{txt}  5{com}. 
.    gen byte male = 0
{txt}  6{com}.    replace male = 1 if sex == 2
{txt}  7{com}. 
.    /* generate variables indicating each grade */
.    gen byte gr3 = 0
{txt}  8{com}.    gen byte gr4 = 0
{txt}  9{com}.    gen byte gr5 = 0
{txt} 10{com}.    gen byte gr6 = 0
{txt} 11{com}. 
.    replace gr3 = 1 if grade == 3 //note: the grade variable here is adjusted by CBEDS enrollment
{txt} 12{com}.    replace gr4 = 1 if grade == 4
{txt} 13{com}.    replace gr5 = 1 if grade == 5
{txt} 14{com}.    replace gr6 = 1 if grade == 6
{txt} 15{com}. 
.    /* generate vars for number of female and male students in each grade */
.    gen byte femalegr3 = 0
{txt} 16{com}.    replace femalegr3 = 1 if female == 1 & gr3 == 1
{txt} 17{com}.    gen byte femalegr4 = 0
{txt} 18{com}.    replace femalegr4 = 1 if female == 1 & gr4 == 1
{txt} 19{com}.    gen byte femalegr5 = 0
{txt} 20{com}.    replace femalegr5 = 1 if female == 1 & gr5 == 1
{txt} 21{com}.    gen byte femalegr6 = 0
{txt} 22{com}.    replace femalegr6 = 1 if female == 1 & gr6 == 1
{txt} 23{com}. 
.    gen byte malegr3 = 0
{txt} 24{com}.    replace malegr3 = 1 if male == 1 & gr3 == 1
{txt} 25{com}.    gen byte malegr4 = 0
{txt} 26{com}.    replace malegr4 = 1 if male == 1 & gr4 == 1
{txt} 27{com}.    gen byte malegr5 = 0
{txt} 28{com}.    replace malegr5 = 1 if male == 1 & gr5 == 1
{txt} 29{com}.    gen byte malegr6 = 0
{txt} 30{com}.    replace malegr6 = 1 if male == 1 & gr6 == 1
{txt} 31{com}. 
. 
.    collapse (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
{txt} 32{com}. 
.    rename female svyfemale
{txt} 33{com}.    label var svyfemale "number of female students in the survey"
{txt} 34{com}.    rename male svymale
{txt} 35{com}.    label var svymale "number of male students in the survey"
{txt} 36{com}. 
.    rename gr3 svygr3
{txt} 37{com}.    rename gr4 svygr4
{txt} 38{com}.    rename gr5 svygr5
{txt} 39{com}.    rename gr6 svygr6
{txt} 40{com}. 
.    label var svygr3 "number of students in grade 3 in survey"
{txt} 41{com}.    label var svygr4 "number of students in grade 4 in survey"
{txt} 42{com}.    label var svygr5 "number of students in grade 5 in survey"
{txt} 43{com}.    label var svygr6 "number of students in grade 6 in survey"
{txt} 44{com}. 
.    rename femalegr3 svyfemalegr3
{txt} 45{com}.    rename femalegr4 svyfemalegr4
{txt} 46{com}.    rename femalegr5 svyfemalegr5
{txt} 47{com}.    rename femalegr6 svyfemalegr6
{txt} 48{com}. 
.    label var svyfemalegr3 "number of female students in grade 3 in survey"
{txt} 49{com}.    label var svyfemalegr4 "number of female students in grade 4 in survey"
{txt} 50{com}.    label var svyfemalegr5 "number of female students in grade 5 in survey"
{txt} 51{com}.    label var svyfemalegr6 "number of female students in grade 6 in survey"
{txt} 52{com}. 
.    rename malegr3 svymalegr3
{txt} 53{com}.    rename malegr4 svymalegr4
{txt} 54{com}.    rename malegr5 svymalegr5
{txt} 55{com}.    rename malegr6 svymalegr6
{txt} 56{com}. 
.    label var svymalegr3 "number of male students in grade 3 in survey"
{txt} 57{com}.    label var svymalegr4 "number of male students in grade 4 in survey"
{txt} 58{com}.    label var svymalegr5 "number of male students in grade 5 in survey"
{txt} 59{com}.    label var svymalegr6 "number of male students in grade 6 in survey"
{txt} 60{com}. 
. 
.    drop if missing(cdscode) //drop observations with missing cdscode
{txt} 61{com}. 
.    merge 1:1 cdscode using $projdir/dta/enrollment/schoollevel/enr`i' //merge with frequency dataset (number of surveys for each school)
{txt} 62{com}.    drop if _merge != 3 //drop all observations that are not matched
{txt} 63{com}.    drop _merge
{txt} 64{com}. 
.    compress //compress dataset to save memory
{txt} 65{com}.    save $projdir/dta/demographics/elementary/elemdemo`i', replace
{txt} 66{com}. 
.  {c )-}
{txt}02   - foreach i of local years {c -(}
02   - use $projdir/dta/demographics/temp/elementary/elem`i'temp, clear
     = use /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/temp/elementary/elem1415temp, clear
02   - gen byte female = 0
02   - replace female = 1 if sex == 1
(34,711 real changes made)
02   - gen byte male = 0
02   - replace male = 1 if sex == 2
(32,860 real changes made)
02   - gen byte gr3 = 0
02   - gen byte gr4 = 0
02   - gen byte gr5 = 0
02   - gen byte gr6 = 0
02   - replace gr3 = 1 if grade == 3
(378 real changes made)
02   - replace gr4 = 1 if grade == 4
(2,505 real changes made)
02   - replace gr5 = 1 if grade == 5
(65,660 real changes made)
02   - replace gr6 = 1 if grade == 6
(1,960 real changes made)
02   - gen byte femalegr3 = 0
02   - replace femalegr3 = 1 if female == 1 & gr3 == 1
(149 real changes made)
02   - gen byte femalegr4 = 0
02   - replace femalegr4 = 1 if female == 1 & gr4 == 1
(1,198 real changes made)
02   - gen byte femalegr5 = 0
02   - replace femalegr5 = 1 if female == 1 & gr5 == 1
(32,190 real changes made)
02   - gen byte femalegr6 = 0
02   - replace femalegr6 = 1 if female == 1 & gr6 == 1
(951 real changes made)
02   - gen byte malegr3 = 0
02   - replace malegr3 = 1 if male == 1 & gr3 == 1
(159 real changes made)
02   - gen byte malegr4 = 0
02   - replace malegr4 = 1 if male == 1 & gr4 == 1
(1,141 real changes made)
02   - gen byte malegr5 = 0
02   - replace malegr5 = 1 if male == 1 & gr5 == 1
(30,186 real changes made)
02   - gen byte malegr6 = 0
02   - replace malegr6 = 1 if male == 1 & gr6 == 1
(995 real changes made)
02   - collapse (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
       {hline 53} begin collapse {hline}
03     - version 8, missing
03     - if _caller() < 5 {c -(}
03       collaps4 `0'
03       exit
03       {c )-}
03     - collapse_17 `0'
       = collapse_17 (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
         {hline 48} begin collapse_17 {hline}
04       - syntax [anything(name=clist id=clist equalok)] [if] [in] [aw fw iw pw] [, BY(varlist) CW FAST CLABEL frame(name) GRAPHBAR(name) ]
04       - if ("`fast'"=="") preserve
         = if (""=="") preserve
04       - local clist: subinstr local clist "[]" "", all
04       - local 0 : subinstr local 0 "[]" "", all
04       - local n 0
04       - local stat = "mean"
04       - if `"`graphbar'"' != `""' & `"`clist'"'=="" & `"`by'"'!="" {c -(}
         = if `""' != `""' & `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'=="" & `"cdscode"'!="" {c -(}
04         local stat = "percent"
04         gen _percent = 1
04         label var _percent "percent"
04         local clist = "percent=_percent"
04         {c )-}
04       - local awnote 0
04       - local ct = 0
04       - local stable ""
04       - while `"`clist'"' != "" {c -(}
         = while `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' != "" {c -(}
04       - GetOpStat stat clist : "`stat'" `"`clist'"'
         = GetOpStat stat clist : "mean" `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - gettoken tok1 rest : clist , parse(" =.") bind
04       - gettoken tok2 rest2: rest, parse(" =.") bind
04       - if `"`stat'"' == "count" {c -(}
         = if `"sum"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04       - if "`tok2'" == "=" {c -(}
         = if "male" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04       - else {c -(}
04       - if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
         = if `""' != `""' & 1 == 1 & `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04       - GetVarlist vl clist : `"`clist'"'
         = GetVarlist vl clist : `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local i 0
04       - tsrevar `vl'
         = tsrevar female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6
04       - foreach el in `r(varlist)' {c -(}
         = foreach el in female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 {c -(}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female"'
04       - local tar `"`tar' `el'"'
         = local tar `" female"'
04       - local old`n' `el'
         = local old1 female
04       - local lab`n' "`realname'"
         = local lab1 "female"
04       - local fcn`n' `"`stat'"'
         = local fcn1 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new1 fmt1 : female female
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male"'
04       - local old`n' `el'
         = local old2 male
04       - local lab`n' "`realname'"
         = local lab2 "male"
04       - local fcn`n' `"`stat'"'
         = local fcn2 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new2 fmt2 : male male
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3"'
04       - local old`n' `el'
         = local old3 gr3
04       - local lab`n' "`realname'"
         = local lab3 "gr3"
04       - local fcn`n' `"`stat'"'
         = local fcn3 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new3 fmt3 : gr3 gr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4"'
04       - local old`n' `el'
         = local old4 gr4
04       - local lab`n' "`realname'"
         = local lab4 "gr4"
04       - local fcn`n' `"`stat'"'
         = local fcn4 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new4 fmt4 : gr4 gr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5"'
04       - local old`n' `el'
         = local old5 gr5
04       - local lab`n' "`realname'"
         = local lab5 "gr5"
04       - local fcn`n' `"`stat'"'
         = local fcn5 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new5 fmt5 : gr5 gr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6"'
04       - local old`n' `el'
         = local old6 gr6
04       - local lab`n' "`realname'"
         = local lab6 "gr6"
04       - local fcn`n' `"`stat'"'
         = local fcn6 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new6 fmt6 : gr6 gr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local old`n' `el'
         = local old7 femalegr3
04       - local lab`n' "`realname'"
         = local lab7 "femalegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn7 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new7 fmt7 : femalegr3 femalegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local old`n' `el'
         = local old8 femalegr4
04       - local lab`n' "`realname'"
         = local lab8 "femalegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn8 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new8 fmt8 : femalegr4 femalegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local old`n' `el'
         = local old9 femalegr5
04       - local lab`n' "`realname'"
         = local lab9 "femalegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn9 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new9 fmt9 : femalegr5 femalegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local old`n' `el'
         = local old10 femalegr6
04       - local lab`n' "`realname'"
         = local lab10 "femalegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn10 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new10 fmt10 : femalegr6 femalegr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local old`n' `el'
         = local old11 malegr3
04       - local lab`n' "`realname'"
         = local lab11 "malegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn11 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new11 fmt11 : malegr3 malegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local old`n' `el'
         = local old12 malegr4
04       - local lab`n' "`realname'"
         = local lab12 "malegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn12 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new12 fmt12 : malegr4 malegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local old`n' `el'
         = local old13 malegr5
04       - local lab`n' "`realname'"
         = local lab13 "malegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn13 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new13 fmt13 : malegr5 malegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local old`n' `el'
         = local old14 malegr6
04       - local lab`n' "`realname'"
         = local lab14 "malegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn14 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new14 fmt14 : malegr6 malegr6
04       - {c )-}
04       - {c )-}
04       - if "`stable'" == "" {c -(}
         = if "" == "" {c -(}
04       - if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
         = if "sum" == "first" | "sum" == "last" | "sum" == "firstnm" | "sum" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - while `"`clist'"' != "" {c -(}
         = while `""' != "" {c -(}
04         GetOpStat stat clist : "`stat'" `"`clist'"'
04         gettoken tok1 rest : clist , parse(" =.") bind
04         gettoken tok2 rest2: rest, parse(" =.") bind
04         if `"`stat'"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04         if "`tok2'" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04         else {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04         GetVarlist vl clist : `"`clist'"'
04         local i 0
04         tsrevar `vl'
04         foreach el in `r(varlist)' {c -(}
04         local ++n
04         gettoken realname vl : vl
04         local ++i
04         local keep `"`keep' `el'"'
04         local tar `"`tar' `el'"'
04         local old`n' `el'
04         local lab`n' "`realname'"
04         local fcn`n' `"`stat'"'
04         Setnf new`n' fmt`n' : `realname' `el'
04         {c )-}
04         {c )-}
04         if "`stable'" == "" {c -(}
04         if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04         {c )-}
04         {c )-}
04       - if (`n'==0) error 198
         = if (14==0) error 198
04       - if `"`by'"'!="" {c -(}
         = if `"cdscode"'!="" {c -(}
04       - bynottar `"`by'"' `"`tar'"'
         = bynottar `"cdscode"' `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - {c )-}
04       - if `"`weight'"' != "" {c -(}
         = if `""' != "" {c -(}
04         tempvar w
04         qui gen double `w' `exp' `if' `in'
04         local wgt `"[`weight'=`w']"'
04         {c )-}
04       - if "`if'`in'`wgt'" != "" {c -(}
         = if "" != "" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         if `"`cw'"'!="" {c -(}
04         markout `touse' `keep'
04         {c )-}
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - if `"`cw'"'!="" {c -(}
         = if `""'!="" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         markout `touse' `keep'
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - qui count
04       - if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - qui keep `keep' `by' `w'
         = qui keep  female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 cdscode 
04       - local i 1
04       - while `i' <= `n' {c -(}
         = while 1 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use1 `"__000000"'
04       - rename `old`i'' `use'
         = rename female __000000
04       - local lasti `i'
         = local lasti 1
04       - {c )-}
04       - local j=`i'+1
         = local j=1+1
04       - while `j'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"male"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"male"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp1 `"__000000"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 2 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use2 `"__000001"'
04       - rename `old`i'' `use'
         = rename male __000001
04       - local lasti `i'
         = local lasti 2
04       - {c )-}
04       - local j=`i'+1
         = local j=2+1
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp2 `"__000001"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 3 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use3 `"__000002"'
04       - rename `old`i'' `use'
         = rename gr3 __000002
04       - local lasti `i'
         = local lasti 3
04       - {c )-}
04       - local j=`i'+1
         = local j=3+1
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp3 `"__000002"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 4 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use4 `"__000003"'
04       - rename `old`i'' `use'
         = rename gr4 __000003
04       - local lasti `i'
         = local lasti 4
04       - {c )-}
04       - local j=`i'+1
         = local j=4+1
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp4 `"__000003"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 5 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use5 `"__000004"'
04       - rename `old`i'' `use'
         = rename gr5 __000004
04       - local lasti `i'
         = local lasti 5
04       - {c )-}
04       - local j=`i'+1
         = local j=5+1
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp5 `"__000004"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 6 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use6 `"__000005"'
04       - rename `old`i'' `use'
         = rename gr6 __000005
04       - local lasti `i'
         = local lasti 6
04       - {c )-}
04       - local j=`i'+1
         = local j=6+1
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp6 `"__000005"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 7 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use7 `"__000006"'
04       - rename `old`i'' `use'
         = rename femalegr3 __000006
04       - local lasti `i'
         = local lasti 7
04       - {c )-}
04       - local j=`i'+1
         = local j=7+1
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp7 `"__000006"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 8 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use8 `"__000007"'
04       - rename `old`i'' `use'
         = rename femalegr4 __000007
04       - local lasti `i'
         = local lasti 8
04       - {c )-}
04       - local j=`i'+1
         = local j=8+1
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp8 `"__000007"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 9 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use9 `"__000008"'
04       - rename `old`i'' `use'
         = rename femalegr5 __000008
04       - local lasti `i'
         = local lasti 9
04       - {c )-}
04       - local j=`i'+1
         = local j=9+1
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp9 `"__000008"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 10 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use10 `"__000009"'
04       - rename `old`i'' `use'
         = rename femalegr6 __000009
04       - local lasti `i'
         = local lasti 10
04       - {c )-}
04       - local j=`i'+1
         = local j=10+1
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp10 `"__000009"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 11 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use11 `"__00000A"'
04       - rename `old`i'' `use'
         = rename malegr3 __00000A
04       - local lasti `i'
         = local lasti 11
04       - {c )-}
04       - local j=`i'+1
         = local j=11+1
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp11 `"__00000A"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 12 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use12 `"__00000B"'
04       - rename `old`i'' `use'
         = rename malegr4 __00000B
04       - local lasti `i'
         = local lasti 12
04       - {c )-}
04       - local j=`i'+1
         = local j=12+1
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp12 `"__00000B"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 13 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use13 `"__00000C"'
04       - rename `old`i'' `use'
         = rename malegr5 __00000C
04       - local lasti `i'
         = local lasti 13
04       - {c )-}
04       - local j=`i'+1
         = local j=13+1
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp13 `"__00000C"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 14 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use14 `"__00000D"'
04       - rename `old`i'' `use'
         = rename malegr6 __00000D
04       - local lasti `i'
         = local lasti 14
04       - {c )-}
04       - local j=`i'+1
         = local j=14+1
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp14 `"__00000D"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 15 <= 14 {c -(}
04         if `"`drp`i''"'=="" {c -(}
04         tempname use
04         local use`i' `"`use'"'
04         rename `old`i'' `use'
04         local lasti `i'
04         {c )-}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04         if `"`drp`i''"'=="" {c -(}
04         local drp`lasti' `"`use'"'
04         {c )-}
04         local ++i
04         {c )-}
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         foreach i of local nameIndexList {c -(}
04         local new`i' `temp`i''
04         {c )-}
04         forvalues i = 1/`n' {c -(}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         forvalues idx = `j'/`=`n'-1' {c -(}
04         local idx2 = `idx' + 1
04         local new`idx' `new`idx2''
04         local fcn`idx' `fcn`idx2''
04         local lab`idx' `lab`idx2''
04         local fmt`idx' `fmt`idx2''
04         local use`idx' `use`idx2''
04         {c )-}
04         local --n
04         {c )-}
04         else {c -(}
04         local ++j
04         {c )-}
04         {c )-}
04         {c )-}
04         {c )-}
04       - cap mata: setup_collapse("`by'", "`weight'", "`w'")
         = cap mata: setup_collapse("cdscode", "", "")
04       - if _rc > 0 {c -(}
04         di as error "failed to setup collapse problem"
04         exit 198
04         {c )-}
04       - quietly {c -(}
04       - tempvar new
04       - tempname m_newvar_name_list
04       - tempname m_newvar_type_list
04       - tempname m_strvar_name_list
04       - mata: `m_newvar_name_list' = J(1, 0, "")
         = mata: __00000F = J(1, 0, "")
04       - mata: `m_newvar_type_list' = J(1, 0, "")
         = mata: __00000G = J(1, 0, "")
04       - mata: `m_strvar_name_list' = J(1, 0, "")
         = mata: __00000H = J(1, 0, "")
04       - local has_string_vars 0
04       - local string_var_list = ""
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("female", "__000000", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "female")
04       - local ty : type `use`i''
         = local ty : type __000000
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("male", "__000001", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "male")
04       - local ty : type `use`i''
         = local ty : type __000001
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr3", "__000002", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr3")
04       - local ty : type `use`i''
         = local ty : type __000002
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr4", "__000003", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr4")
04       - local ty : type `use`i''
         = local ty : type __000003
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr5", "__000004", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr5")
04       - local ty : type `use`i''
         = local ty : type __000004
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr6", "__000005", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr6")
04       - local ty : type `use`i''
         = local ty : type __000005
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr3", "__000006", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr3")
04       - local ty : type `use`i''
         = local ty : type __000006
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr4", "__000007", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr4")
04       - local ty : type `use`i''
         = local ty : type __000007
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr5", "__000008", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr5")
04       - local ty : type `use`i''
         = local ty : type __000008
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr6", "__000009", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr6")
04       - local ty : type `use`i''
         = local ty : type __000009
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr3", "__00000A", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr3")
04       - local ty : type `use`i''
         = local ty : type __00000A
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr4", "__00000B", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr4")
04       - local ty : type `use`i''
         = local ty : type __00000B
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr5", "__00000C", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr5")
04       - local ty : type `use`i''
         = local ty : type __00000C
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr6", "__00000D", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr6")
04       - local ty : type `use`i''
         = local ty : type __00000D
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if "`weight'" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04         cap {c -(}
04         mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
04         {c )-}
04         if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04         mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
04         local ty : type `use`i''
04         if bsubstr("`ty'", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04         else {c -(}
04         if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
04         local ty "double"
04         {c )-}
04         else if "_`fcn`i''" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04         else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04         else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
04         {c )-}
04         mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
04         local ++i
04         {c )-}
04       - {c )-}
04       - cap {c -(}
04       - mata: compute_collapse()
04       - {c )-}
04       - if _rc == 9901 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to compute"
04         exit 198
04         {c )-}
04       - if _rc > 0 {c -(}
04         local myrc _rc
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         error `myrc'
04         exit
04         {c )-}
04       - tempname newobs
04       - cap {c -(}
04       - mata: get_obsno_collapse("`newobs'")
         = mata: get_obsno_collapse("__00000I")
04       - {c )-}
04       - cap {c -(}
04       - local tframe = ""
04       - if "`has_string_vars'" == "1" {c -(}
         = if "0" == "1" {c -(}
04         tempname tframe
04         frame put `string_var_list', into(`tframe')
04         {c )-}
04       - if "`by'" == "" {c -(}
         = if "cdscode" == "" {c -(}
04         drop _all
04         set obs ``newobs''
04         {c )-}
04       - else {c -(}
04       - keep `by'
         = keep cdscode
04       - cap {c -(}
04       - mata: _collapse_clean_bys()
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to drop observations from by list"
04         exit 198
04         {c )-}
04       - {c )-}
04       - mata:get_from_collapse(`m_newvar_name_list', `m_newvar_type_list', `m_strvar_name_list', "`tframe'")
         = mata:get_from_collapse(__00000F, __00000G, __00000H, "")
04       - if "`by'" != "" {c -(}
         = if "cdscode" != "" {c -(}
04       - sort `by'
         = sort cdscode
04       - {c )-}
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to create new variable"
04         exit 198
04         {c )-}
04       - mata:clear_collapse()
{res}{txt}04       - mata: mata drop `m_newvar_name_list'
         = mata: mata drop __00000F
04       - mata: mata drop `m_newvar_type_list'
         = mata: mata drop __00000G
04       - mata: mata drop `m_strvar_name_list'
         = mata: mata drop __00000H
04       - quietly {c -(}
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "female" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "female" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var female `"(sum) female"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var female `"sum of female"'
04       - format `new`i'' `fmt`i''
         = format female %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "male" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "male" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var male `"(sum) male"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var male `"sum of male"'
04       - format `new`i'' `fmt`i''
         = format male %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr3 `"(sum) gr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr3 `"sum of gr3"'
04       - format `new`i'' `fmt`i''
         = format gr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr4 `"(sum) gr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr4 `"sum of gr4"'
04       - format `new`i'' `fmt`i''
         = format gr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr5 `"(sum) gr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr5 `"sum of gr5"'
04       - format `new`i'' `fmt`i''
         = format gr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr6 `"(sum) gr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr6 `"sum of gr6"'
04       - format `new`i'' `fmt`i''
         = format gr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr3 `"(sum) femalegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr3 `"sum of femalegr3"'
04       - format `new`i'' `fmt`i''
         = format femalegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr4 `"(sum) femalegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr4 `"sum of femalegr4"'
04       - format `new`i'' `fmt`i''
         = format femalegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr5 `"(sum) femalegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr5 `"sum of femalegr5"'
04       - format `new`i'' `fmt`i''
         = format femalegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr6 `"(sum) femalegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr6 `"sum of femalegr6"'
04       - format `new`i'' `fmt`i''
         = format femalegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr3 `"(sum) malegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr3 `"sum of malegr3"'
04       - format `new`i'' `fmt`i''
         = format malegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr4 `"(sum) malegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr4 `"sum of malegr4"'
04       - format `new`i'' `fmt`i''
         = format malegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr5 `"(sum) malegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr5 `"sum of malegr5"'
04       - format `new`i'' `fmt`i''
         = format malegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr6 `"(sum) malegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr6 `"sum of malegr6"'
04       - format `new`i'' `fmt`i''
         = format malegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04         else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04         else if "`clabel'"=="" {c -(}
04         label var `new`i'' `"(`fcn`i'') `lab`i''"'
04         {c )-}
04         else label var `new`i'' `"`fcn`i'' of `lab`i''"'
04         format `new`i'' `fmt`i''
04         local ++i
04         {c )-}
04       - {c )-}
04       - global S_FN
04       - global S_FNDATE
04       - if ("`fast'" == "") restore, not
         = if ("" == "") restore, not
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         forvalues i = 1/`n' {c -(}
04         local retVarList `retVarList' `new`i''
04         {c )-}
04         c_local col17_graphbar "`graphbar'"
04         c_local `graphbar' "`retVarList'"
04         {c )-}
04       - if `awnote' {c -(}
         = if 0 {c -(}
04         di as txt "(note: {c -(}bf:aweight{c )-}s not used to compute {c -(}bf:count{c )-}s)"
04         {c )-}
         {hline 50} end collapse_17 {hline}
03     - if "`col17_graphbar'" != "" {c -(}
       = if "" != "" {c -(}
03       c_local `col17_graphbar' "``col17_graphbar''"
03       {c )-}
       {hline 55} end collapse {hline}
02   - rename female svyfemale
       =struct rename_peldf {c -(}
       =        string scalar        element
       =        real scalar  elementtype
       =        real scalar            arg
       =        real scalar            match
       =struct rename_patterndf {c -(}
       =        real scalar  patterntype
       =        string scalar            original
       =        struct rename_peldf rowvector          ellist
       =        real rowvector            n_of
       =        string rowvector            varnames
       =        string matrix            pieces
       =struct rename_optiondf {c -(}
       =        real scalar       isrecase
       =        real scalar       isrecase_upper, isrecase_lower, isrecase_proper
       =        real scalar       isdryrun
       =        real scalar       isrenumber, isaddnumber
       =        real scalar            from
       =        real scalar       issort
       =        real scalar       isdebug
       =        real scalar       istest
       =        real scalar       isr
       =void rename_optiondf_init(struct rename_optiondf scalar option)
       =        option.isrecase = option.isdryrun = 0
       =                                option.isrecase_proper = 0
       =        option.isrenumber = option.isaddnumber = 0
       =        option.issort     = 0
       =        option.isdebug    = 0
       =        option.istest     = 0
       =        option.isr        = 0
       =struct rename_renamedf {c -(}
       =        struct rename_patterndf rowvector      oldplist
       =        struct rename_patterndf rowvector      newplist
       =        struct rename_optiondf scalar       option
       =void rename_cmd(string scalar thirdarg)
       =        string scalar    input
       =real scalar can_do_fast(string scalar input)
       =        string rowvector    token
       =        real scalar    rc
       =        if (length(token)!=2) return(0)
       =        if (!st_isname(token[1])) return(0)
       =        if (!st_isname(token[2])) return(0)
       =        if (token[1] == token[2]) return(0)
       =        return(1)
       =void rename_cmd_u(string scalar input)
       =        struct rename_renamedf scalar       ren
       =                dump_pattern(ren.oldplist, "old after parsing", 0)
       =                dump_pattern(ren.newplist, "new after parsing", 0)
       =void xeq_old_to_new(struct rename_renamedf scalar ren)
       =                dump_pattern(ren.oldplist, "old after linkage", 0)
       =                dump_pattern(ren.newplist, "new after linkage", 0)
       =                dump_pattern(ren.oldplist, "old final", 1)
       =                dump_pattern(ren.newplist, "new final", 1)
       =void xeq_recase(struct rename_renamedf scalar ren)
       =        fillin_old_varnames(ren.oldplist, ren.newplist, 0)
       =                dump_pattern(ren.oldplist, "old final", 1)
       =                dump_pattern(ren.newplist, "new final", 1)
       =void parse_cmd(struct rename_renamedf scalar ren, string scalar input)
       =        real scalar            c
       =        string scalar            lhs, ops
       =        string scalar            oldnames, newnames
       =        parse_cmd_pat_els(ren.oldplist, oldnames, 0)
       =                parse_cmd_pat_els(ren.newplist, newnames, 1)
       =real scalar parse_cmd_commaloc(string scalar s)
       =        real scalar    i, L
       =        real scalar    nestlev
       =        string scalar    c
       =void getarg(string scalar input, string scalar arg, string scalar rest)
       =        real scalar    L, npar, i
       =        string scalar    c
       =void parse_cmd_options(struct rename_optiondf scalar option, string scalar ops)
       =        string scalar            token
       =        transmorphic      t
       =        rename_optiondf_init(option)
       =void confirm_options_consistent(struct rename_optiondf scalar option)
       =        string rowvector    list
       =void parse_cmd_options_u(struct rename_optiondf scalar option, string scalar token, transmorphic t)
       =real scalar parse_cmd_options_u_std(struct rename_optiondf scalar option, string scalar source)
       =        real scalar    l
       =                option.isdebug = 1
       =                option.isdryrun = 1
       =                option.isrecase = option.isrecase_lower = 1
       =                option.isrecase = option.isrecase_proper= 1
       =                option.isr = 1
       =                option.issort = 1
       =                option.istest = 1
       =                option.isrecase = option.isrecase_upper = 1
       =        else    return(0)
       =        return(1)
       =real scalar parse_cmd_options_u_number(struct rename_optiondf scalar option, string scalar source,
       =                                                                transmorphic t)
       =        string scalar            token
       =        real scalar            from
       =        real scalar            l
       =        string scalar            op
       =        if (option.isrenumber | option.isaddnumber)  return(0)
       =                option.isrenumber = 1
       =                option.isaddnumber = 1
       =                return(1)
       =        return(1)
       =void parse_cmd_pat_els(struct rename_patterndf rowvector pat, string scalar toparse, real pattype)
       =        string scalar            token, curlist
       =        transmorphic      t
       =        real scalar       first
       =        first   = 1
       =                                first    = 1
       =                                first   = 0
       =void parse_cmd_pat_el(struct rename_patterndf rowvector pat, string scalar token, real pattype)
       =        string scalar            mytoken
       =        struct rename_patterndf scalar      mypat
       =        real scalar            i, j
       =        real matrix            found
       =        mypat.n_of        = J(1, (8), 0)
       =        confirm_not_empty(mytoken, pattype==0 ?
       =                if (i=strpos(mytoken, "*")) found = (found \ (i, (3)))
       =                if (i=strpos(mytoken, "?")) found = (found \ (i, (4) ))
       =                if (i=strpos(mytoken, "#")) found = (found \ (i, (5)))
       =                if (i=strpos(mytoken, "(")) found = (found \ (i, (6)))
       =                if (i=strpos(mytoken, "=")) found = (found \ (i, (7)))
       =                if (i=strpos(mytoken, ".")) found = (found \ (i, (8)))
       =                        if (i==(3)) {c -(}
       =                        else if (i==(4)) {c -(}
       =                        else if (i==(5)) {c -(}
       =                        else if (i==(6)) {c -(}
       =                        else if (i==(7)) {c -(}
       =                        else if (i==(8)) {c -(}
       =string scalar set_subscript(struct rename_patterndf scalar pat, string scalar token, real pt)
       =        real scalar    i
       =        string scalar    c
       =        if (pt != 1) {c -(}
       =        if (pt != 1)              return(token)
       =void set_pat_ETstrlist(struct rename_patterndf scalar pat, string scalar token)
       =        struct rename_peldf scalar          el
       =        el.elementtype = (1)
       =        pat.n_of[(1)] = pat.n_of[(1)] + 1
       =string scalar set_pat_str(struct rename_patterndf scalar pat, string scalar token)
       =        struct rename_peldf scalar          el
       =        el.elementtype = (2)
       =string scalar set_pat_ETstar(struct rename_patterndf scalar pat, string scalar token, real scalar loc)
       =        struct rename_peldf scalar          el
       =        if (pat.patterntype == 0 && length(pat.ellist)) {c -(}
       =                if (pat.ellist[length(pat.ellist)].elementtype == (3)) {c -(}
       =        el.elementtype = (3)
       =string scalar set_pat_ETnum_v(struct rename_patterndf scalar pat, string scalar token, real scalar loc)
       =        struct rename_peldf scalar          el
       =        if (pat.patterntype == 0 && length(pat.ellist)) {c -(}
       =                if (pat.ellist[length(pat.ellist)].elementtype == (5)) {c -(}
       =        el.elementtype = (5)
       =string scalar set_pat_ETeq(struct rename_patterndf scalar pat, string scalar token, real scalar loc)
       =        struct rename_peldf scalar  el
       =        if (pat.patterntype == 0) {c -(}
       =        el.elementtype = (7)
       =string scalar set_pat_ETodot(struct rename_patterndf scalar pat, string scalar token, real scalar loc)
       =        struct rename_peldf scalar  el
       =        if (pat.patterntype == 0) {c -(}
       =        el.elementtype = (8)
       =string scalar set_pat_ETqm(struct rename_patterndf scalar pat, string scalar token, real scalar loc)
       =        struct rename_peldf scalar  el
       =        el.elementtype = (4)
       =string scalar set_pat_ETnum_f(struct rename_patterndf scalar pat, string scalar token, real scalar loc)
       =        struct rename_peldf scalar          el
       =        real scalar            j
       =        el.elementtype = (6)
       =        if (el.arg > 10) {c -(}
       =void make_patternlist_lengths_equal(struct rename_renamedf scalar ren)
       =void build_recase_newpattern(struct rename_renamedf scalar ren)
       =        real scalar    i
       =        ren.newplist = rename_patterndf(length(ren.oldplist))
       =                ren.newplist[i].n_of        = J(1, (8), 0)
       =void link_patterns(struct rename_renamedf scalar ren)
       =        real scalar    i, jn
       =real scalar check_and_fix_ETnum(struct rename_patterndf scalar newp, struct rename_optiondf scalar option)
       =        real scalar            n, j, jn
       =        real scalar  tt
       =                if (tt==(5) | tt==(6)) {c -(}
       =                                (tt==(5) ? (9) : (10))
       =struct rename_linklocdf {c -(}
       =        real scalar    j_old, last_sequential_j_old
       =        real scalar    j_new
       =        real scalar    jn
       =        real rowvector    mapsub
       =void rename_linklocdf_init(struct rename_linklocdf scalar ll, real scalar jn)
       =void rename_linklocdf_next(struct rename_linklocdf scalar ll, struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp)
       =        real scalar subscr
       =real scalar map_subscript(real scalar subscr, real rowvector mapsub, struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp)
       =void link_patterns_u(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp, real scalar jn)
       =        struct rename_linklocdf scalar      ll
       =        rename_linklocdf_init(ll, jn)
       =        rename_linklocdf_next(ll, oldp, newp)
       =                rename_linklocdf_next(ll, oldp, newp)
       =real rowvector pelidx_of_wcidx(struct rename_patterndf scalar oldp)
       =        real rowvector            toret
       =        real scalar            i
       =        real scalar  tt
       =                if (tt!=(1) & tt!=(2)) toret = (toret, i)
       =void confirm_wildcards_link(struct rename_patterndf scalar oldp, real scalar j_old,
       =                            struct rename_patterndf scalar newp, real scalar j_new)
       =        real scalar  tt_old, tt_new
       =        if (tt_new == (3)) return
       =        if (tt_new == (8))  return
       =        if (tt_new == (4)) {c -(}
       =                if (tt_old == (4)) return
       =        if (tt_new==(5) | tt_new==(6)) {c -(}
       =                if (tt_old==(5) | tt_old==(6)) return
       =string scalar printable_wildcard(struct rename_peldf scalar el)
       =        real scalar  tt
       =        if (tt == (3))  return("*")
       =        if (tt == (4))    return("?")
       =        if (tt == (8))  return(".")
       =        if (tt == (5)) return("#")
       =        if (tt == (6)) return("(" + el.arg*"*" + ")")
       =real scalar count_wildcards(struct rename_patterndf scalar pat)
       =        return(pat.n_of[(3)]  +
       =               pat.n_of[(4)]    +
       =               pat.n_of[(5)] +
       =               pat.n_of[(6)] +
       =               pat.n_of[(8)])
       =real scalar is_wildcard(real scalar tt)
       =        return( tt == (3)  |
       =                tt == (4)    |
       =                tt == (5) |
       =                tt == (6) |
       =                tt == (9) |
       =                tt == (10) |
       =                tt == (8)  )
       =real scalar find_next_wildcard(struct rename_peldf rowvector d, real scalar j0)
       =        real scalar    j
       =void fillin_old_varnames(struct rename_patterndf rowvector oldplist, struct rename_patterndf rowvector newplist,
       =                                                        real scalar issort)
       =        real scalar    i
       =        string scalar    tmpname
       =void fillin_old_varnames_u(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp,
       =                                        real scalar issort, string scalar tmpname)
       =        string rowvector            varnames, piece
       =        real scalar            i, n, nvars, nels
       =        string matrix            pieces
       =        real scalar  tt
       =        real scalar       filter_varlist, fillin_pieces
       =        filter_varlist = (oldp.n_of[(5)] + oldp.n_of[(6)] != 0)
       =        fillin_pieces  = (newp.n_of[(5)] + newp.n_of[(6)] +
       =                          newp.n_of[(3)]  + newp.n_of[(4)]    != 0)
       =        if (issort) fillin_pieces = 1
       =                        if (tt==(3) | tt==(4)) {c -(}
       =string scalar varlistpattern(struct rename_peldf rowvector ellist)
       =        real scalar    j
       =        string scalar    result
       =        if (ellist[1].elementtype == (1)) return(ellist[1].element)
       =string scalar varlist_el(struct rename_peldf scalar el)
       =        if (el.elementtype == (2))    return(el.element)
       =        if (el.elementtype == (3))   return("*")
       =        if (el.elementtype == (4))     return("?")
       =        if (el.elementtype == (5))  return("?*")
       =        if (el.elementtype == (6))  return(el.arg*"?")
       =struct rename_matchdf {c -(}
       =        real scalar    j0, j1
       =        real scalar    i0, i1
       =        string scalar    name
       =        string rowvector    pieces
       =real scalar matchvarname(string rowvector pieces, struct rename_peldf rowvector ellist, string scalar name)
       =        struct rename_matchdf scalar        m
       =                if (ellist[1].elementtype==(1)) {c -(}
       =                        return(1)
       =        if (!match_step(m, ellist)) return(0)
       =        return(1)
       =void match_setup(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, string scalar name)
       =real scalar match_step(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist)
       =        real scalar            lefttomatch
       =        real scalar      mr
       =        real scalar     r
       =                if ((r=match_query_done(m))!=(-1)) return(r)
       =                if (match_simplification(m, ellist)==-1) return(0)
       =                if ((r=match_query_done(m))!=(-1)) return(r)
       =                        if (match_step_1(m, ellist)==-1) return(0)
       =                        if ((r=match_query_done(m))!=(-1)) return(r)
       =                        return(0)
       =                        if (mr==-1 | mr==0) return(0)
       =                        if (mr==-1 | mr==0) return(0)
       =real scalar match_step_1(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist)
       =        if (ellist[m.j0].elementtype==(5)) {c -(}
       =                return(match_ETnum_v(m, ellist, 1))
       =        if (ellist[m.j0].elementtype==(3)) {c -(}
       =        return(-1)
       =real scalar match_step_2(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist)
       =        if (ellist[m.j0].elementtype==(5)) {c -(}
       =                return(match_ETnum_v(m, ellist, 1))
       =        if (ellist[m.j0+1].elementtype==(5)) {c -(}
       =                return(match_ETnum_v(m, ellist, 0))
       =        return(-1)
       =real scalar match_step_3p(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist)
       =        real scalar    j
       =        if (ellist[m.j0].elementtype==(3)) {c -(}
       =                if (ellist[j].elementtype==(3)) {c -(}
       =                if (ellist[j].elementtype==(5)) {c -(}
       =                        return(match_ETnum_v(m, ellist, 0))
       =        if (ellist[m.j0].elementtype==(5)) {c -(}
       =                return(match_ETnum_v(m, ellist, 1))
       =        return(-1)
       =real scalar match_query_done(struct rename_matchdf scalar m)
       =                if (m.i0 < m.i1) return(0)
       =                return(1)
       =        return((-1))
       =real scalar match_simplification(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist)
       =        real scalar      mr
       =        while ((m.i1 >m.i0 & m.j1> m.j0)) {c -(}
       =                mr = match_fixed(m, ellist, 1)
       =                if (mr==-1) return(-1)
       =                if (mr==0)   break
       =        while ((m.i1 >m.i0 & m.j1> m.j0)) {c -(}
       =                mr = match_fixed(m, ellist, 0)
       =                if (mr==-1) return(-1)
       =                if (mr==0)   break
       =real scalar match_fixed(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, real scalar s)
       =        real scalar    j
       =        j = (s==1 ? m.j0 : m.j1-1)
       =        if (ellist[j].elementtype==(2))   return(match_ETstr(m, ellist, s))
       =        if (ellist[j].elementtype==(6)) return(match_ETnum_f(m, ellist, s))
       =        if (ellist[j].elementtype==(4))    return(match_ETqm(m, ellist, s))
       =        return(0)
       =real scalar match_ETstr(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, real scalar s)
       =        real scalar    j, len
       =        j = (s==1 ? m.j0 : m.j1-1)
       =        if (ellist[j].elementtype != (2)) return(0)
       =        if ((s==1 ?  usubstr(m.name, m.i0, len) :
       =                return(-1)
       =        return(1)
       =real scalar match_ETnum_f(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, real scalar s)
       =        real scalar    j, i, len
       =        string scalar    str, c
       =        j = (s==1 ? m.j0 : m.j1-1)
       =        if (ellist[j].elementtype != (6)) return(0)
       =        str = (s==1 ?  usubstr(m.name, m.i0, len) : usubstr(m.name, -len, .))
       =        if (ustrlen(str)!=len) return(-1)
       =                if (c<"0" | c>"9") return(-1)
       =        return(1)
       =real scalar match_ETqm(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, real scalar s)
       =        if (ellist[s==1 ? m.j0 : m.j1-1].elementtype != (4)) {c -(}
       =                return(0)
       =        if (m.i0==m.i1) return(-1)
       =        return(1)
       =real scalar match_ETnum_v(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, real scalar s)
       =        real scalar            j, i0, i1, len
       =        string scalar            c
       =        string scalar            c1
       =        struct rename_matchdf scalar        hold
       =        j = (s==1 ? m.j0 : m.j1-1)
       =        if (ellist[j].elementtype != (5)) return(0)
       =        if (s==1) {c -(}
       =                if (match_step(m, ellist)==1) return(1)
       =        return(-1)
       =real scalar match_ETstar_left(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist)
       =        real scalar            len, newlen
       =        struct rename_matchdf scalar        hold
       =        real scalar       next_is_ETnum_v
       =        if (ellist[m.j0].elementtype != (3)) return(0)
       =                post_match_piece(m, 1, len)
       =                return(1)
       =        next_is_ETnum_v = (ellist[m.j0+1].elementtype==(5))
       =                post_match_piece(m, 1, len)
       =                if (match_step(m, ellist)==1) {c -(}
       =                                        post_match_piece(m, 1, newlen)
       =                        return(1)
       =        return(-1)
       =real scalar mstargiveback(string scalar s)
       =        real scalar    l
       =        string scalar    c
       =        string scalar    c1
       =void post_match_piece(struct rename_matchdf scalar m, real scalar s, real scalar len)
       =        if (s==1) {c -(}
       =void sort_old_varnames(struct rename_renamedf scalar ren)
       =        real scalar i
       =void sort_appropriate_field(struct rename_patterndf rowvector oldplist, struct rename_patterndf rowvector newplist)
       =        real scalar            i
       =        real scalar            j
       =real scalar j_of_renumber(struct rename_patterndf scalar plist)
       =        real scalar            j
       =        real scalar  tt
       =                if (tt==(9) | tt==(10)) return(j)
       =real scalar j_of_number(struct rename_patterndf scalar plist)
       =        real scalar            j, jtoret
       =        real scalar  tt
       =                if (tt==(3) | tt==(4) | tt==(5) | tt==(6)) {c -(}
       =void sort_on_field(struct rename_patterndf scalar plist, real scalar j)
       =        real scalar  tt
       =        real colvector            o
       =        string colvector            vc
       =                if (tt==(5) | tt==(6)) {c -(}
       =void fillin_new_varnames_recase(struct rename_renamedf scalar ren)
       =        real scalar    i
       =void fillin_new_varnames(struct rename_patterndf rowvector oldplist, struct rename_patterndf rowvector newplist, real scalar from)
       =        real scalar    i
       =void fillin_new_varnames_u(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp, real scalar from)
       =        real scalar    i
       =        if (newp.ellist[1].elementtype==(1)) {c -(}
       =void fillin_new_varnames_u_u(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp, real scalar from, real scalar i)
       =        real scalar            j
       =        string scalar            name
       =        real scalar  tt
       =                if (tt==(2)) {c -(}
       =                else if (tt==(3)) {c -(}
       =                else if (tt==(4)) {c -(}
       =                else if (tt==(5)) {c -(}
       =                else if (tt==(6)) {c -(}
       =                else if (tt==(7)) {c -(}
       =                else if (tt==(9)) {c -(}
       =                else if (tt==(10)) {c -(}
       =                else if (tt != (8)) {c -(}
       =string scalar fmt_ETnum_f(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp, real scalar i, real scalar j)
       =        real scalar    n, len
       =        string scalar    res, orig
       =string scalar fmt_ETnum_f_r(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp, real scalar j, real scalar from)
       =        real scalar    n, len
       =        string scalar res
       =string matrix build_toren(struct rename_patterndf rowvector oldplist, struct rename_patterndf rowvector newplist)
       =        string matrix    toren
       =        real scalar    i, N, n, k, k2
       =        real colvector    toselect
       =        string rowvector    lastrow, newrow
       =        real scalar hasomissions
       =                                hasomissions = 1
       =void perform_renames(string matrix toren, struct rename_optiondf scalar option)
       =        real scalar       use_intermediary
       =        string matrix            toren_nonulls
       =                        perform_dryrun(toren, toren_nonulls, 0)
       =void confirm_newnames_new(string matrix toren)
       =        real scalar    i
       =        real rowvector    varnum
       =        string rowvector    tocheck, badvar
       =void perform_set_r(string matrix toren)
       =void perform_test(string matrix toren, real scalar use_intermediary)
       =        real scalar    i
       =void perform_rename_straight(string matrix toren)
       =        real scalar    i
       =        real scalar    breakstatus
       =void perform_rename_intermediary(string matrix toren)
       =        real scalar    i
       =        real scalar    breakstatus
       =        string rowvector    tmpname
       =void perform_dryrun(string matrix toren, string matrix toren_nonulls, real scalar use_intermediary)
       =        real scalar    i
       =        real scalar    maxlen
       =        string scalar    sfmt, sfmtit
       =void dryrun_note1(string matrix toren, string matrix toren_nonulls)
       =        real scalar    i
       =        real scalar    nulls
       =void dryrun_note2(string matrix toren, real scalar use_intermediary)
       =        string colvector    dupnames, newname, oldname
       =real scalar names_not_jointly_unique(string matrix toren)
       =        real scalar    n0, n1
       =        string colvector    fulllist
       =void confirm_names_unique(string matrix toren)
       =void confirm_names_unique_1(string matrix toren, real scalar j)
       =        string colvector    names, corresponding
       =        string scalar    s
       =        real scalar    n
       =string colvector corresponding_names(string matrix toren, string scalar name, real scalar js, real scalar jd)
       =        real scalar    i
       =        string colvector    dups
       =void confirm_new_varnames_valid(string matrix toren)
       =        real scalar    i, n
       =        real colvector    bad
       =void confirm_not_empty(string scalar str, string scalar expected)
       =void errprint_bf_list(string vector list , |real scalar USER_MAXEL)
       =        real scalar            MAXEL
       =        real scalar            i, top
       =        real scalar       chopped
       =                        chopped = 1
       =                        chopped = 0
       =void errprint_bf_string(string scalar user_s, |real scalar USER_MAXLEN)
       =        real scalar            MAXLEN
       =        real scalar            len_last, target_last
       =        real scalar            len_remaining
       =        real scalar            i
       =        string rowvector            els
       =        string scalar            s, first, last
       =        real scalar       cont
       =        cont = 1
       =                else            cont   = 0
       =        string scalar    indent
       =void error_preceding_dash( pattype)
       =                        (pattype==0 ? "oldname" : "newname" ) )
       =void error_following_dash( pattype, string scalar what)
       =                        (pattype==0 ? "oldname" : "newname" ) )
       =void option_not_allowed(string scalar option)
       =void option_number_misspecified(string scalar op)
       =void error_ETnum_f_too_long(real scalar n_digits)
       =        errprintf("the {c -(}bf:(###...#){c )-} pattern is %g.\n", 10)
       =void error_patternlengths_unequal(struct rename_patterndf rowvector oldplist, struct rename_patterndf rowvector newplist)
       =        string scalar    s_old, s_new
       =void error_too_many_renumbers(string scalar op, struct rename_patterndf scalar newp)
       =void error_strlist_length(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp)
       =        real scalar    n_old, n_new
       =        string scalar    s_old, s_new
       =void error_missing_ETnum(string scalar opname, struct rename_patterndf scalar newp)
       =void error_too_many_wildcards(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp,
       =                                                        real scalar isaddnumber)
       =void error_wildcardmatch_qm(struct rename_patterndf scalar oldp, real scalar j_old,
       =                            struct rename_patterndf scalar newp, real scalar j_new)
       =void error_wildcardmatch_hash(struct rename_patterndf scalar oldp, real scalar j_old,
       =                              struct rename_patterndf scalar newp, real scalar j_new)
       =void error_no_right_bracket(string scalar original)
       =void error_inside_brackets(string scalar original)
       =void error_newnumber_subscripted(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp)
       =void error_subscript_invalid(struct rename_patterndf scalar oldp, struct rename_patterndf scalar newp, real scalar subscr)
       =void error_subscripts_in_old(struct rename_patterndf scalar pat)
       =void dump_pattern(struct rename_patterndf rowvector pat, string scalar typ, real scalar incl_names)
       =        real scalar    i, j, n
       =        real scalar    nv, k, m
       =                        pat[i].n_of[(2)],
       =                        pat[i].n_of[(3)],
       =                        pat[i].n_of[(4)],
       =                        pat[i].n_of[(5)],
       =                        pat[i].n_of[(6)],
       =                        pat[i].n_of[(7)],
       =                        pat[i].n_of[(8)])
       =string scalar dump_xlate_tt(real scalar t)
       =        if (t==(1))     return("ETstrlist")
       =        if (t==(2))         return("ETstr")
       =        if (t==(3))        return("ETstar")
       =        if (t==(4))          return("ETqm")
       =        if (t==(5))       return("ETnum_v")
       =        if (t==(6))       return("ETnum_f")
       =        if (t==(7))          return("ETeq")
       =        if (t==(8))        return("ETodot")
       =        if (t==(9))     return("ETnum_v_r")
       =        if (t==(10))     return("ETnum_f_r")
       =void dump_options(struct rename_renamedf scalar ren)
       =void match_debug(struct rename_matchdf scalar m, struct rename_peldf rowvector ellist, string scalar msg)
       =string rowvector list_subtract(string rowvector a, string rowvector b)
       =        string rowvector result
       =string rowvector expand_varlist(string scalar pattern, string scalar tmpname)
       =        real scalar    rc
       =        string rowvector    result
       =string scalar ordinal_suffix(real scalar i)
       =        real scalar    lastdigit
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemale "number of female students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemale "number of female students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename male svymale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymale "number of male students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymale "number of male students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename gr3 svygr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr4 svygr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr5 svygr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr6 svygr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svygr3 "number of students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr3 "number of students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr4 "number of students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr4 "number of students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr5 "number of students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr5 "number of students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr6 "number of students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr6 "number of students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename femalegr3 svyfemalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr4 svyfemalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr5 svyfemalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr6 svyfemalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemalegr3 "number of female students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr3 "number of female students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr4 "number of female students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr4 "number of female students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr5 "number of female students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr5 "number of female students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr6 "number of female students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr6 "number of female students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename malegr3 svymalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr4 svymalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr5 svymalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr6 svymalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymalegr3 "number of male students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr3 "number of male students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr4 "number of male students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr4 "number of male students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr5 "number of male students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr5 "number of male students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr6 "number of male students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr6 "number of male students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - drop if missing(cdscode)
(1 observation deleted)
02   - merge 1:1 cdscode using $projdir/dta/enrollment/schoollevel/enr`i'
     = merge 1:1 cdscode using /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1415
       {hline 56} begin merge {hline}
03     - version 11
03     - gettoken mtype 0 : 0, parse(" ,")
03     - if (!strpos("`mtype'", ":") & "`mtype'"!="") {c -(}
       = if (!strpos("1:1", ":") & "1:1"!="") {c -(}
03       if (_caller()>=11) {c -(}
03       di as smcl as txt "{c -(}p{c )-}"
03       di as smcl "(you are using old"
03       di as smcl "{c -(}bf:merge{c )-} syntax; see"
03       di as smcl "{c -(}bf:{c -(}help merge:[D] merge{c )-}{c )-} for new syntax)"
03       di as smcl "{c -(}p_end{c )-}"
03       {c )-}
03       merge_10 `mtype' `0'
03       exit
03       {c )-}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - gettoken token : 0, parse(" ,")
03     - if ("`token'"=="_n") {c -(}
       = if ("cdscode"=="_n") {c -(}
03       if ("`mtype'"!="1:1") {c -(}
03       error_seq_not11 "`mtype'" "`origmtype'"
03       {c )-}
03       gettoken token 0 : 0, parse(" ,")
03       local mtype "_n"
03       {c )-}
03     - syntax [varlist(default=none)] using/ [, ASSERT(string) DEBUG GENerate(name) FORCE KEEP(string) KEEPUSing(string) noLabels NOGENerate noNOTEs REPLACE noREPort SORTED UPDATE ]
03     - if ("`mtype'"!="_n") {c -(}
       = if ("1:1"!="_n") {c -(}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - if ("`varlist'"=="") {c -(}
       = if ("cdscode"=="") {c -(}
03       error_mat_varlist "`mtype'" "`origmtype'"
03       {c )-}
03     - {c )-}
03     - else {c -(}
03       if ("`mtype'"=="_n") {c -(}
03       if ("`varlist'"!="") {c -(}
03       error_seq_varlist
03       {c )-}
03       {c )-}
03       {c )-}
03     - mata: fullfilename("using", "usingfull", "using")
{res}{txt}03     - mata: resultlist("assert")
{res}{txt}03     - mata: resultlist("keep")
{res}{txt}03     - if ("`generate'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`nogenerate'"!="") {c -(}
03       di as smcl err "{c -(}p{c )-}"
03       di as smcl "options -generate()- and -nogenerate-"
03       di as smcl "may not be specified together."
03       di as smcl err "{c -(}p_end{c )-}"
03       {c )-}
03       confirm new var `generate'
03       {c )-}
03     - if ("`replace'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`update'"=="") {c -(}
03       error_replace
03       {c )-}
03       {c )-}
03     - if ("`sorted'"=="" & "`mtype'"!="_n") {c -(}
       = if (""=="" & "1:1"!="_n") {c -(}
03     - local sortedby : sortedby
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       sort `varlist'
03       {c )-}
03     - quietly describe using "`using'", varlist short
       = quietly describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1415.dta", varlist short
         {hline 51} begin describe {hline}
04       - version 9
04       - local version : di "version " string(_caller()) ":"
04       - syntax [anything] [using] [, SImple REPLACE *]
04       - if ("`replace'"!="") {c -(}
         = if (""!="") {c -(}
04         describe_mk `0'
04         return add
04         exit
04         {c )-}
04       - local varlist `"`anything'"'
         = local varlist `""'
04       - if ("`simple'" == "") {c -(}
         = if ("" == "") {c -(}
04       - `version' _describe `0'
         = version 11: _describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1415.dta", varlist short
04       - return add
04       - {c )-}
04       - else {c -(}
04         if (`"`options'"' != "") {c -(}
04         di as err "simple may not be combined with other options"
04         exit 198
04         {c )-}
04         if (`"`using'"' != "") {c -(}
04         qui `version' describe `varlist' `using', varlist
04         if "`varlist'" == "" {c -(}
04         local vars "`r(varlist)'"
04         {c )-}
04         else {c -(}
04         local vars "`varlist'"
04         {c )-}
04         local wid = 2
04         local n : list sizeof vars
04         if `n'==0 {c -(}
04         exit
04         {c )-}
04         if "`c(hasicu)'" == "1" {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', udstrlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         else {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', strlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         local wid = `wid' + 2
04         local cols = int((`c(linesize)'+1)/`wid')
04         if `cols' < 2 {c -(}
04         foreach x of local `vars' {c -(}
04         di as txt `col' `"`x'"'
04         {c )-}
04         exit
04         {c )-}
04         local lines = `n'/`cols'
04         local lines = int(cond(`lines'>int(`lines'), `lines'+1, `lines'))
04         forvalues i=1(1)`lines' {c -(}
04         local top = min((`cols')*`lines'+`i', `n')
04         local col = 1
04         forvalues j=`i'(`lines')`top' {c -(}
04         local x : word `j' of `vars'
04         di as txt _column(`col') "`x'" _c
04         local col = `col' + `wid'
04         {c )-}
04         di as txt
04         {c )-}
04         qui `version' describe `varlist' `using', short
04         return add
04         {c )-}
04         else {c -(}
04         ds `varlist'
04         qui `version' _describe `varlist', short
04         return add
04         {c )-}
04         {c )-}
         {hline 53} end describe {hline}
03     - local sortedby "`r(sortlist)'"
       = local sortedby "cdscode"
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       preserve
03       qui use "`using'", clear
03       sort `varlist'
03       tempfile using
03       qui save "`using'", replace
03       restore
03       {c )-}
03     - {c )-}
03     - if ("`nogenerate'"!="") {c -(}
       = if (""!="") {c -(}
03       tempvar mergevar
03       local mergevaristemp 1
03       {c )-}
03     - else {c -(}
03     - local mergevar = cond("`generate'"!="", "`generate'", "_merge")
       = local mergevar = cond(""!="", "", "_merge")
03     - local mergevaristemp 0
03     - {c )-}
03     - local options `update' `replace' `notes' `labels' _merge(`mergevar') `force'
       = local options     _merge(_merge) 
03     - if (bsubstr("`mtype'", 1, 1)=="1") {c -(}
       = if (bsubstr("1:1", 1, 1)=="1") {c -(}
03     - local options `options' uniqmaster
       = local options _merge(_merge) uniqmaster
03     - {c )-}
03     - if (bsubstr("`mtype'", 3, 1)=="1") {c -(}
       = if (bsubstr("1:1", 3, 1)=="1") {c -(}
03     - local options `options' uniqusing
       = local options _merge(_merge) uniqmaster uniqusing
03     - {c )-}
03     - if ("`keepusing'"!="") {c -(}
       = if (""!="") {c -(}
03       local options `options' keep(`keepusing')
03       {c )-}
03     - if ("`keep'" !="" & !strpos("`keep'" , "2")) {c -(}
       = if ("" !="" & !strpos("" , "2")) {c -(}
03       local options `options' nokeep
03       {c )-}
03     - if (_caller() > 15) {c -(}
03     - local version : di "version " string(_caller()) ": "
03     - {c )-}
03     - local _merge `"`version'_merge `varlist' using "`using'", nowarn"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1415.dta", nowarn"'
03     - local _merge `"`_merge' `options' tabulate(mresults)"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1415.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)"'
03     - if ("`debug'"!="") {c -(}
       = if (""!="") {c -(}
03       di as txt _n "command is"
03       di `"`_merge'"' _n
03       {c )-}
03     - `_merge'
       = version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1415.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)
03     - if (!`mergevaristemp') {c -(}
       = if (!0) {c -(}
03     - capture label list _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("list", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label list _merge
04         {c )-}
         {hline 56} end label {hline}
03     - if (_rc) {c -(}
03     - label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("define", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - label values `mergevar' _merge
       = label values _merge _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("values", "val") > 0 ) {c -(}
04       - gettoken val 0 : 0
04       - syntax anything [, nofix]
04       - if "`fix'" != "" {c -(}
         = if "" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04       - gettoken var rest : anything
04       - while `"`rest'"' != "" {c -(}
         = while `" _merge"' != "" {c -(}
04       - gettoken lab rest : rest
04       - local label "`lab'"
         = local label "_merge"
04       - {c )-}
04       - while `"`rest'"' != "" {c -(}
         = while `""' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04       - local vlist : list anything - lab
04       - if "`lab'" == "." {c -(}
         = if "_merge" == "." {c -(}
04         local lab ""
04         {c )-}
04       - foreach var of varlist `vlist' {c -(}
         = foreach var of varlist _merge {c -(}
04       - `vv' _label `val' `var' `lab' `fix'
         = version 11, missing: _label values _merge _merge 
04       - {c )-}
04       - {c )-}
04       - else {c -(}
04         `vv' _label `macval(0)'
04         {c )-}
         {hline 56} end label {hline}
03     - label variable `mergevar' "Matching result from merge"
       = label variable _merge "Matching result from merge"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("variable", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label variable _merge "Matching result from merge"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - if ("`assert'"!="") {c -(}
       = if (""!="") {c -(}
03       if (_caller() < 13) {c -(}
03       buildexpr expr : `mergevar' "`assert'"
03       capture assert `expr'
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       else {c -(}
03       capture checkmresults "`mresults'" "`assert'"
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       {c )-}
03     - if ("`keep'"!="") {c -(}
       = if (""!="") {c -(}
03       buildexpr expr : `mergevar' "`keep'"
03       quietly keep if `expr'
03       {c )-}
03     - if ("`mtype'"=="1:1") {c -(}
       = if ("1:1"=="1:1") {c -(}
03     - qui count if `mergevar'==2
       = qui count if _merge==2
03     - if (r(N)==0) {c -(}
03       sort `varlist'
03       {c )-}
03     - {c )-}
03     - if (c(noisily) & "`report'"=="") {c -(}
       = if (c(noisily) & ""=="") {c -(}
03     - local isupdate = ("`replace'"!="" | "`update'"!="")
       = local isupdate = (""!="" | ""!="")
03     - present_table `isupdate' `mergevar' `mergevaristemp'
       = present_table 0 _merge 0
         {hline 40} begin merge.present_table {hline}
04       - args isupdate mergevar mergevaristemp
04       - if (!`mergevaristemp') {c -(}
         = if (!0) {c -(}
04       - local v1 "(`mergevar'==1)"
         = local v1 "(_merge==1)"
04       - local v2 "(`mergevar'==2)"
         = local v2 "(_merge==2)"
04       - local v3 "(`mergevar'==3)"
         = local v3 "(_merge==3)"
04       - local v4 "(`mergevar'==4)"
         = local v4 "(_merge==4)"
04       - local v5 "(`mergevar'==5)"
         = local v5 "(_merge==5)"
04       - {c )-}
04       - quietly {c -(}
04       - count if `mergevar'==1
         = count if _merge==1
04       - local m1 = r(N)
04       - count if `mergevar'==2
         = count if _merge==2
04       - local m2 = r(N)
04       - if (`isupdate') {c -(}
         = if (0) {c -(}
04         count if `mergevar'==3
04         local m3 = r(N)
04         count if `mergevar'==4
04         local m4 = r(N)
04         local m5 = _N - `m1' - `m2' - `m3' - `m4'
04         {c )-}
04       - else {c -(}
04       - local m3 = _N - `m1' - `m2'
         = local m3 = _N - 128 - 9386
04       - {c )-}
04       - {c )-}
04       - di

04       - di as smcl as txt _col(5) "Result" _col(33) "Number of obs"
{col 5}Result{col 33}Number of obs
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
04       - di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (`m1'+`m2')
         = di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (128+9386)
{col 5}Not matched{col 30}{res}           9,514
{txt}04       - if (`m1'|`m2') {c -(}
         = if (128|9386) {c -(}
04       - di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc `m1' as txt "  `v1'"
         = di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc 128 as txt "  (_merge==1)"
{col 9}from master{col 30}{res}             128{txt}  (_merge==1)
04       - di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc `m2' as txt "  `v2'"
         = di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc 9386 as txt "  (_merge==2)"
{col 9}from using{col 30}{res}           9,386{txt}  (_merge==2)
04       - di

04       - {c )-}
04       - if (!`isupdate') {c -(}
         = if (!0) {c -(}
04       - di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc `m3' as txt "  `v3'"
         = di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc 1033 as txt "  (_merge==3)"
{col 5}Matched{col 30}{res}           1,033{txt}  (_merge==3)
04       - {c )-}
04       - else {c -(}
04         if (`m1'==0 & `m2'==0) {c -(}
04         di
04         {c )-}
04         di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc (`m3'+`m4'+`m5')
04         di as smcl as txt _col(9) "not updated" _col(30) as res %16.0fc `m3' as txt "  `v3'"
04         di as smcl as txt _col(9) "missing updated" _col(30) as res %16.0fc `m4' as txt "  `v4'"
04         di as smcl as txt _col(9) "nonmissing conflict" _col(30) as res %16.0fc `m5' as txt "  `v5'"
04         {c )-}
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
         {hline 42} end merge.present_table {hline}
03     - {c )-}
       {hline 58} end merge {hline}
02   - drop if _merge != 3
(9,514 observations deleted)
02   - drop _merge
02   - compress
  variable {bf}{res}gr9femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9maleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10maleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11maleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12maleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr3noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr4noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr5noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9hispanicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10hispanicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11hispanicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12hispanicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
{txt}  (140,488 bytes saved)
02   - save $projdir/dta/demographics/elementary/elemdemo`i', replace
     = save /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1415, replace
{p 0 4 2}
file {bf}
/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1415.dta{rm}
saved
{p_end}
02   - {c )-}
02   - use $projdir/dta/demographics/temp/elementary/elem`i'temp, clear
     = use /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/temp/elementary/elem1516temp, clear
02   - gen byte female = 0
02   - replace female = 1 if sex == 1
(53,585 real changes made)
02   - gen byte male = 0
02   - replace male = 1 if sex == 2
(51,054 real changes made)
02   - gen byte gr3 = 0
02   - gen byte gr4 = 0
02   - gen byte gr5 = 0
02   - gen byte gr6 = 0
02   - replace gr3 = 1 if grade == 3
(339 real changes made)
02   - replace gr4 = 1 if grade == 4
(2,615 real changes made)
02   - replace gr5 = 1 if grade == 5
(99,763 real changes made)
02   - replace gr6 = 1 if grade == 6
(5,129 real changes made)
02   - gen byte femalegr3 = 0
02   - replace femalegr3 = 1 if female == 1 & gr3 == 1
(131 real changes made)
02   - gen byte femalegr4 = 0
02   - replace femalegr4 = 1 if female == 1 & gr4 == 1
(1,152 real changes made)
02   - gen byte femalegr5 = 0
02   - replace femalegr5 = 1 if female == 1 & gr5 == 1
(49,227 real changes made)
02   - gen byte femalegr6 = 0
02   - replace femalegr6 = 1 if female == 1 & gr6 == 1
(2,640 real changes made)
02   - gen byte malegr3 = 0
02   - replace malegr3 = 1 if male == 1 & gr3 == 1
(124 real changes made)
02   - gen byte malegr4 = 0
02   - replace malegr4 = 1 if male == 1 & gr4 == 1
(1,140 real changes made)
02   - gen byte malegr5 = 0
02   - replace malegr5 = 1 if male == 1 & gr5 == 1
(46,836 real changes made)
02   - gen byte malegr6 = 0
02   - replace malegr6 = 1 if male == 1 & gr6 == 1
(2,445 real changes made)
02   - collapse (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
       {hline 53} begin collapse {hline}
03     - version 8, missing
03     - if _caller() < 5 {c -(}
03       collaps4 `0'
03       exit
03       {c )-}
03     - collapse_17 `0'
       = collapse_17 (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
         {hline 48} begin collapse_17 {hline}
04       - syntax [anything(name=clist id=clist equalok)] [if] [in] [aw fw iw pw] [, BY(varlist) CW FAST CLABEL frame(name) GRAPHBAR(name) ]
04       - if ("`fast'"=="") preserve
         = if (""=="") preserve
04       - local clist: subinstr local clist "[]" "", all
04       - local 0 : subinstr local 0 "[]" "", all
04       - local n 0
04       - local stat = "mean"
04       - if `"`graphbar'"' != `""' & `"`clist'"'=="" & `"`by'"'!="" {c -(}
         = if `""' != `""' & `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'=="" & `"cdscode"'!="" {c -(}
04         local stat = "percent"
04         gen _percent = 1
04         label var _percent "percent"
04         local clist = "percent=_percent"
04         {c )-}
04       - local awnote 0
04       - local ct = 0
04       - local stable ""
04       - while `"`clist'"' != "" {c -(}
         = while `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' != "" {c -(}
04       - GetOpStat stat clist : "`stat'" `"`clist'"'
         = GetOpStat stat clist : "mean" `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - gettoken tok1 rest : clist , parse(" =.") bind
04       - gettoken tok2 rest2: rest, parse(" =.") bind
04       - if `"`stat'"' == "count" {c -(}
         = if `"sum"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04       - if "`tok2'" == "=" {c -(}
         = if "male" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04       - else {c -(}
04       - if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
         = if `""' != `""' & 1 == 1 & `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04       - GetVarlist vl clist : `"`clist'"'
         = GetVarlist vl clist : `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local i 0
04       - tsrevar `vl'
         = tsrevar female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6
04       - foreach el in `r(varlist)' {c -(}
         = foreach el in female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 {c -(}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female"'
04       - local tar `"`tar' `el'"'
         = local tar `" female"'
04       - local old`n' `el'
         = local old1 female
04       - local lab`n' "`realname'"
         = local lab1 "female"
04       - local fcn`n' `"`stat'"'
         = local fcn1 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new1 fmt1 : female female
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male"'
04       - local old`n' `el'
         = local old2 male
04       - local lab`n' "`realname'"
         = local lab2 "male"
04       - local fcn`n' `"`stat'"'
         = local fcn2 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new2 fmt2 : male male
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3"'
04       - local old`n' `el'
         = local old3 gr3
04       - local lab`n' "`realname'"
         = local lab3 "gr3"
04       - local fcn`n' `"`stat'"'
         = local fcn3 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new3 fmt3 : gr3 gr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4"'
04       - local old`n' `el'
         = local old4 gr4
04       - local lab`n' "`realname'"
         = local lab4 "gr4"
04       - local fcn`n' `"`stat'"'
         = local fcn4 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new4 fmt4 : gr4 gr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5"'
04       - local old`n' `el'
         = local old5 gr5
04       - local lab`n' "`realname'"
         = local lab5 "gr5"
04       - local fcn`n' `"`stat'"'
         = local fcn5 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new5 fmt5 : gr5 gr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6"'
04       - local old`n' `el'
         = local old6 gr6
04       - local lab`n' "`realname'"
         = local lab6 "gr6"
04       - local fcn`n' `"`stat'"'
         = local fcn6 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new6 fmt6 : gr6 gr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local old`n' `el'
         = local old7 femalegr3
04       - local lab`n' "`realname'"
         = local lab7 "femalegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn7 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new7 fmt7 : femalegr3 femalegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local old`n' `el'
         = local old8 femalegr4
04       - local lab`n' "`realname'"
         = local lab8 "femalegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn8 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new8 fmt8 : femalegr4 femalegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local old`n' `el'
         = local old9 femalegr5
04       - local lab`n' "`realname'"
         = local lab9 "femalegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn9 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new9 fmt9 : femalegr5 femalegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local old`n' `el'
         = local old10 femalegr6
04       - local lab`n' "`realname'"
         = local lab10 "femalegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn10 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new10 fmt10 : femalegr6 femalegr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local old`n' `el'
         = local old11 malegr3
04       - local lab`n' "`realname'"
         = local lab11 "malegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn11 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new11 fmt11 : malegr3 malegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local old`n' `el'
         = local old12 malegr4
04       - local lab`n' "`realname'"
         = local lab12 "malegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn12 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new12 fmt12 : malegr4 malegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local old`n' `el'
         = local old13 malegr5
04       - local lab`n' "`realname'"
         = local lab13 "malegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn13 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new13 fmt13 : malegr5 malegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local old`n' `el'
         = local old14 malegr6
04       - local lab`n' "`realname'"
         = local lab14 "malegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn14 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new14 fmt14 : malegr6 malegr6
04       - {c )-}
04       - {c )-}
04       - if "`stable'" == "" {c -(}
         = if "" == "" {c -(}
04       - if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
         = if "sum" == "first" | "sum" == "last" | "sum" == "firstnm" | "sum" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - while `"`clist'"' != "" {c -(}
         = while `""' != "" {c -(}
04         GetOpStat stat clist : "`stat'" `"`clist'"'
04         gettoken tok1 rest : clist , parse(" =.") bind
04         gettoken tok2 rest2: rest, parse(" =.") bind
04         if `"`stat'"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04         if "`tok2'" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04         else {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04         GetVarlist vl clist : `"`clist'"'
04         local i 0
04         tsrevar `vl'
04         foreach el in `r(varlist)' {c -(}
04         local ++n
04         gettoken realname vl : vl
04         local ++i
04         local keep `"`keep' `el'"'
04         local tar `"`tar' `el'"'
04         local old`n' `el'
04         local lab`n' "`realname'"
04         local fcn`n' `"`stat'"'
04         Setnf new`n' fmt`n' : `realname' `el'
04         {c )-}
04         {c )-}
04         if "`stable'" == "" {c -(}
04         if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04         {c )-}
04         {c )-}
04       - if (`n'==0) error 198
         = if (14==0) error 198
04       - if `"`by'"'!="" {c -(}
         = if `"cdscode"'!="" {c -(}
04       - bynottar `"`by'"' `"`tar'"'
         = bynottar `"cdscode"' `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - {c )-}
04       - if `"`weight'"' != "" {c -(}
         = if `""' != "" {c -(}
04         tempvar w
04         qui gen double `w' `exp' `if' `in'
04         local wgt `"[`weight'=`w']"'
04         {c )-}
04       - if "`if'`in'`wgt'" != "" {c -(}
         = if "" != "" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         if `"`cw'"'!="" {c -(}
04         markout `touse' `keep'
04         {c )-}
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - if `"`cw'"'!="" {c -(}
         = if `""'!="" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         markout `touse' `keep'
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - qui count
04       - if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - qui keep `keep' `by' `w'
         = qui keep  female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 cdscode 
04       - local i 1
04       - while `i' <= `n' {c -(}
         = while 1 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use1 `"__000000"'
04       - rename `old`i'' `use'
         = rename female __000000
04       - local lasti `i'
         = local lasti 1
04       - {c )-}
04       - local j=`i'+1
         = local j=1+1
04       - while `j'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"male"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"male"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp1 `"__000000"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 2 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use2 `"__000001"'
04       - rename `old`i'' `use'
         = rename male __000001
04       - local lasti `i'
         = local lasti 2
04       - {c )-}
04       - local j=`i'+1
         = local j=2+1
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp2 `"__000001"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 3 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use3 `"__000002"'
04       - rename `old`i'' `use'
         = rename gr3 __000002
04       - local lasti `i'
         = local lasti 3
04       - {c )-}
04       - local j=`i'+1
         = local j=3+1
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp3 `"__000002"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 4 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use4 `"__000003"'
04       - rename `old`i'' `use'
         = rename gr4 __000003
04       - local lasti `i'
         = local lasti 4
04       - {c )-}
04       - local j=`i'+1
         = local j=4+1
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp4 `"__000003"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 5 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use5 `"__000004"'
04       - rename `old`i'' `use'
         = rename gr5 __000004
04       - local lasti `i'
         = local lasti 5
04       - {c )-}
04       - local j=`i'+1
         = local j=5+1
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp5 `"__000004"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 6 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use6 `"__000005"'
04       - rename `old`i'' `use'
         = rename gr6 __000005
04       - local lasti `i'
         = local lasti 6
04       - {c )-}
04       - local j=`i'+1
         = local j=6+1
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp6 `"__000005"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 7 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use7 `"__000006"'
04       - rename `old`i'' `use'
         = rename femalegr3 __000006
04       - local lasti `i'
         = local lasti 7
04       - {c )-}
04       - local j=`i'+1
         = local j=7+1
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp7 `"__000006"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 8 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use8 `"__000007"'
04       - rename `old`i'' `use'
         = rename femalegr4 __000007
04       - local lasti `i'
         = local lasti 8
04       - {c )-}
04       - local j=`i'+1
         = local j=8+1
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp8 `"__000007"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 9 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use9 `"__000008"'
04       - rename `old`i'' `use'
         = rename femalegr5 __000008
04       - local lasti `i'
         = local lasti 9
04       - {c )-}
04       - local j=`i'+1
         = local j=9+1
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp9 `"__000008"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 10 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use10 `"__000009"'
04       - rename `old`i'' `use'
         = rename femalegr6 __000009
04       - local lasti `i'
         = local lasti 10
04       - {c )-}
04       - local j=`i'+1
         = local j=10+1
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp10 `"__000009"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 11 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use11 `"__00000A"'
04       - rename `old`i'' `use'
         = rename malegr3 __00000A
04       - local lasti `i'
         = local lasti 11
04       - {c )-}
04       - local j=`i'+1
         = local j=11+1
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp11 `"__00000A"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 12 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use12 `"__00000B"'
04       - rename `old`i'' `use'
         = rename malegr4 __00000B
04       - local lasti `i'
         = local lasti 12
04       - {c )-}
04       - local j=`i'+1
         = local j=12+1
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp12 `"__00000B"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 13 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use13 `"__00000C"'
04       - rename `old`i'' `use'
         = rename malegr5 __00000C
04       - local lasti `i'
         = local lasti 13
04       - {c )-}
04       - local j=`i'+1
         = local j=13+1
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp13 `"__00000C"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 14 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use14 `"__00000D"'
04       - rename `old`i'' `use'
         = rename malegr6 __00000D
04       - local lasti `i'
         = local lasti 14
04       - {c )-}
04       - local j=`i'+1
         = local j=14+1
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp14 `"__00000D"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 15 <= 14 {c -(}
04         if `"`drp`i''"'=="" {c -(}
04         tempname use
04         local use`i' `"`use'"'
04         rename `old`i'' `use'
04         local lasti `i'
04         {c )-}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04         if `"`drp`i''"'=="" {c -(}
04         local drp`lasti' `"`use'"'
04         {c )-}
04         local ++i
04         {c )-}
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         foreach i of local nameIndexList {c -(}
04         local new`i' `temp`i''
04         {c )-}
04         forvalues i = 1/`n' {c -(}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         forvalues idx = `j'/`=`n'-1' {c -(}
04         local idx2 = `idx' + 1
04         local new`idx' `new`idx2''
04         local fcn`idx' `fcn`idx2''
04         local lab`idx' `lab`idx2''
04         local fmt`idx' `fmt`idx2''
04         local use`idx' `use`idx2''
04         {c )-}
04         local --n
04         {c )-}
04         else {c -(}
04         local ++j
04         {c )-}
04         {c )-}
04         {c )-}
04         {c )-}
04       - cap mata: setup_collapse("`by'", "`weight'", "`w'")
         = cap mata: setup_collapse("cdscode", "", "")
04       - if _rc > 0 {c -(}
04         di as error "failed to setup collapse problem"
04         exit 198
04         {c )-}
04       - quietly {c -(}
04       - tempvar new
04       - tempname m_newvar_name_list
04       - tempname m_newvar_type_list
04       - tempname m_strvar_name_list
04       - mata: `m_newvar_name_list' = J(1, 0, "")
         = mata: __00000F = J(1, 0, "")
04       - mata: `m_newvar_type_list' = J(1, 0, "")
         = mata: __00000G = J(1, 0, "")
04       - mata: `m_strvar_name_list' = J(1, 0, "")
         = mata: __00000H = J(1, 0, "")
04       - local has_string_vars 0
04       - local string_var_list = ""
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("female", "__000000", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "female")
04       - local ty : type `use`i''
         = local ty : type __000000
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("male", "__000001", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "male")
04       - local ty : type `use`i''
         = local ty : type __000001
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr3", "__000002", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr3")
04       - local ty : type `use`i''
         = local ty : type __000002
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr4", "__000003", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr4")
04       - local ty : type `use`i''
         = local ty : type __000003
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr5", "__000004", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr5")
04       - local ty : type `use`i''
         = local ty : type __000004
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr6", "__000005", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr6")
04       - local ty : type `use`i''
         = local ty : type __000005
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr3", "__000006", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr3")
04       - local ty : type `use`i''
         = local ty : type __000006
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr4", "__000007", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr4")
04       - local ty : type `use`i''
         = local ty : type __000007
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr5", "__000008", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr5")
04       - local ty : type `use`i''
         = local ty : type __000008
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr6", "__000009", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr6")
04       - local ty : type `use`i''
         = local ty : type __000009
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr3", "__00000A", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr3")
04       - local ty : type `use`i''
         = local ty : type __00000A
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr4", "__00000B", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr4")
04       - local ty : type `use`i''
         = local ty : type __00000B
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr5", "__00000C", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr5")
04       - local ty : type `use`i''
         = local ty : type __00000C
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr6", "__00000D", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr6")
04       - local ty : type `use`i''
         = local ty : type __00000D
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if "`weight'" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04         cap {c -(}
04         mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
04         {c )-}
04         if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04         mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
04         local ty : type `use`i''
04         if bsubstr("`ty'", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04         else {c -(}
04         if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
04         local ty "double"
04         {c )-}
04         else if "_`fcn`i''" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04         else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04         else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
04         {c )-}
04         mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
04         local ++i
04         {c )-}
04       - {c )-}
04       - cap {c -(}
04       - mata: compute_collapse()
04       - {c )-}
04       - if _rc == 9901 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to compute"
04         exit 198
04         {c )-}
04       - if _rc > 0 {c -(}
04         local myrc _rc
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         error `myrc'
04         exit
04         {c )-}
04       - tempname newobs
04       - cap {c -(}
04       - mata: get_obsno_collapse("`newobs'")
         = mata: get_obsno_collapse("__00000I")
04       - {c )-}
04       - cap {c -(}
04       - local tframe = ""
04       - if "`has_string_vars'" == "1" {c -(}
         = if "0" == "1" {c -(}
04         tempname tframe
04         frame put `string_var_list', into(`tframe')
04         {c )-}
04       - if "`by'" == "" {c -(}
         = if "cdscode" == "" {c -(}
04         drop _all
04         set obs ``newobs''
04         {c )-}
04       - else {c -(}
04       - keep `by'
         = keep cdscode
04       - cap {c -(}
04       - mata: _collapse_clean_bys()
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to drop observations from by list"
04         exit 198
04         {c )-}
04       - {c )-}
04       - mata:get_from_collapse(`m_newvar_name_list', `m_newvar_type_list', `m_strvar_name_list', "`tframe'")
         = mata:get_from_collapse(__00000F, __00000G, __00000H, "")
04       - if "`by'" != "" {c -(}
         = if "cdscode" != "" {c -(}
04       - sort `by'
         = sort cdscode
04       - {c )-}
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to create new variable"
04         exit 198
04         {c )-}
04       - mata:clear_collapse()
{res}{txt}04       - mata: mata drop `m_newvar_name_list'
         = mata: mata drop __00000F
04       - mata: mata drop `m_newvar_type_list'
         = mata: mata drop __00000G
04       - mata: mata drop `m_strvar_name_list'
         = mata: mata drop __00000H
04       - quietly {c -(}
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "female" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "female" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var female `"(sum) female"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var female `"sum of female"'
04       - format `new`i'' `fmt`i''
         = format female %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "male" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "male" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var male `"(sum) male"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var male `"sum of male"'
04       - format `new`i'' `fmt`i''
         = format male %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr3 `"(sum) gr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr3 `"sum of gr3"'
04       - format `new`i'' `fmt`i''
         = format gr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr4 `"(sum) gr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr4 `"sum of gr4"'
04       - format `new`i'' `fmt`i''
         = format gr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr5 `"(sum) gr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr5 `"sum of gr5"'
04       - format `new`i'' `fmt`i''
         = format gr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr6 `"(sum) gr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr6 `"sum of gr6"'
04       - format `new`i'' `fmt`i''
         = format gr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr3 `"(sum) femalegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr3 `"sum of femalegr3"'
04       - format `new`i'' `fmt`i''
         = format femalegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr4 `"(sum) femalegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr4 `"sum of femalegr4"'
04       - format `new`i'' `fmt`i''
         = format femalegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr5 `"(sum) femalegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr5 `"sum of femalegr5"'
04       - format `new`i'' `fmt`i''
         = format femalegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr6 `"(sum) femalegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr6 `"sum of femalegr6"'
04       - format `new`i'' `fmt`i''
         = format femalegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr3 `"(sum) malegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr3 `"sum of malegr3"'
04       - format `new`i'' `fmt`i''
         = format malegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr4 `"(sum) malegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr4 `"sum of malegr4"'
04       - format `new`i'' `fmt`i''
         = format malegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr5 `"(sum) malegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr5 `"sum of malegr5"'
04       - format `new`i'' `fmt`i''
         = format malegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr6 `"(sum) malegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr6 `"sum of malegr6"'
04       - format `new`i'' `fmt`i''
         = format malegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04         else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04         else if "`clabel'"=="" {c -(}
04         label var `new`i'' `"(`fcn`i'') `lab`i''"'
04         {c )-}
04         else label var `new`i'' `"`fcn`i'' of `lab`i''"'
04         format `new`i'' `fmt`i''
04         local ++i
04         {c )-}
04       - {c )-}
04       - global S_FN
04       - global S_FNDATE
04       - if ("`fast'" == "") restore, not
         = if ("" == "") restore, not
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         forvalues i = 1/`n' {c -(}
04         local retVarList `retVarList' `new`i''
04         {c )-}
04         c_local col17_graphbar "`graphbar'"
04         c_local `graphbar' "`retVarList'"
04         {c )-}
04       - if `awnote' {c -(}
         = if 0 {c -(}
04         di as txt "(note: {c -(}bf:aweight{c )-}s not used to compute {c -(}bf:count{c )-}s)"
04         {c )-}
         {hline 50} end collapse_17 {hline}
03     - if "`col17_graphbar'" != "" {c -(}
       = if "" != "" {c -(}
03       c_local `col17_graphbar' "``col17_graphbar''"
03       {c )-}
       {hline 55} end collapse {hline}
02   - rename female svyfemale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemale "number of female students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemale "number of female students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename male svymale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymale "number of male students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymale "number of male students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename gr3 svygr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr4 svygr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr5 svygr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr6 svygr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svygr3 "number of students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr3 "number of students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr4 "number of students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr4 "number of students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr5 "number of students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr5 "number of students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr6 "number of students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr6 "number of students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename femalegr3 svyfemalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr4 svyfemalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr5 svyfemalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr6 svyfemalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemalegr3 "number of female students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr3 "number of female students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr4 "number of female students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr4 "number of female students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr5 "number of female students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr5 "number of female students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr6 "number of female students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr6 "number of female students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename malegr3 svymalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr4 svymalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr5 svymalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr6 svymalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymalegr3 "number of male students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr3 "number of male students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr4 "number of male students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr4 "number of male students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr5 "number of male students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr5 "number of male students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr6 "number of male students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr6 "number of male students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - drop if missing(cdscode)
(1 observation deleted)
02   - merge 1:1 cdscode using $projdir/dta/enrollment/schoollevel/enr`i'
     = merge 1:1 cdscode using /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1516
       {hline 56} begin merge {hline}
03     - version 11
03     - gettoken mtype 0 : 0, parse(" ,")
03     - if (!strpos("`mtype'", ":") & "`mtype'"!="") {c -(}
       = if (!strpos("1:1", ":") & "1:1"!="") {c -(}
03       if (_caller()>=11) {c -(}
03       di as smcl as txt "{c -(}p{c )-}"
03       di as smcl "(you are using old"
03       di as smcl "{c -(}bf:merge{c )-} syntax; see"
03       di as smcl "{c -(}bf:{c -(}help merge:[D] merge{c )-}{c )-} for new syntax)"
03       di as smcl "{c -(}p_end{c )-}"
03       {c )-}
03       merge_10 `mtype' `0'
03       exit
03       {c )-}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - gettoken token : 0, parse(" ,")
03     - if ("`token'"=="_n") {c -(}
       = if ("cdscode"=="_n") {c -(}
03       if ("`mtype'"!="1:1") {c -(}
03       error_seq_not11 "`mtype'" "`origmtype'"
03       {c )-}
03       gettoken token 0 : 0, parse(" ,")
03       local mtype "_n"
03       {c )-}
03     - syntax [varlist(default=none)] using/ [, ASSERT(string) DEBUG GENerate(name) FORCE KEEP(string) KEEPUSing(string) noLabels NOGENerate noNOTEs REPLACE noREPort SORTED UPDATE ]
03     - if ("`mtype'"!="_n") {c -(}
       = if ("1:1"!="_n") {c -(}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - if ("`varlist'"=="") {c -(}
       = if ("cdscode"=="") {c -(}
03       error_mat_varlist "`mtype'" "`origmtype'"
03       {c )-}
03     - {c )-}
03     - else {c -(}
03       if ("`mtype'"=="_n") {c -(}
03       if ("`varlist'"!="") {c -(}
03       error_seq_varlist
03       {c )-}
03       {c )-}
03       {c )-}
03     - mata: fullfilename("using", "usingfull", "using")
{res}{txt}03     - mata: resultlist("assert")
{res}{txt}03     - mata: resultlist("keep")
{res}{txt}03     - if ("`generate'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`nogenerate'"!="") {c -(}
03       di as smcl err "{c -(}p{c )-}"
03       di as smcl "options -generate()- and -nogenerate-"
03       di as smcl "may not be specified together."
03       di as smcl err "{c -(}p_end{c )-}"
03       {c )-}
03       confirm new var `generate'
03       {c )-}
03     - if ("`replace'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`update'"=="") {c -(}
03       error_replace
03       {c )-}
03       {c )-}
03     - if ("`sorted'"=="" & "`mtype'"!="_n") {c -(}
       = if (""=="" & "1:1"!="_n") {c -(}
03     - local sortedby : sortedby
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       sort `varlist'
03       {c )-}
03     - quietly describe using "`using'", varlist short
       = quietly describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1516.dta", varlist short
         {hline 51} begin describe {hline}
04       - version 9
04       - local version : di "version " string(_caller()) ":"
04       - syntax [anything] [using] [, SImple REPLACE *]
04       - if ("`replace'"!="") {c -(}
         = if (""!="") {c -(}
04         describe_mk `0'
04         return add
04         exit
04         {c )-}
04       - local varlist `"`anything'"'
         = local varlist `""'
04       - if ("`simple'" == "") {c -(}
         = if ("" == "") {c -(}
04       - `version' _describe `0'
         = version 11: _describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1516.dta", varlist short
04       - return add
04       - {c )-}
04       - else {c -(}
04         if (`"`options'"' != "") {c -(}
04         di as err "simple may not be combined with other options"
04         exit 198
04         {c )-}
04         if (`"`using'"' != "") {c -(}
04         qui `version' describe `varlist' `using', varlist
04         if "`varlist'" == "" {c -(}
04         local vars "`r(varlist)'"
04         {c )-}
04         else {c -(}
04         local vars "`varlist'"
04         {c )-}
04         local wid = 2
04         local n : list sizeof vars
04         if `n'==0 {c -(}
04         exit
04         {c )-}
04         if "`c(hasicu)'" == "1" {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', udstrlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         else {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', strlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         local wid = `wid' + 2
04         local cols = int((`c(linesize)'+1)/`wid')
04         if `cols' < 2 {c -(}
04         foreach x of local `vars' {c -(}
04         di as txt `col' `"`x'"'
04         {c )-}
04         exit
04         {c )-}
04         local lines = `n'/`cols'
04         local lines = int(cond(`lines'>int(`lines'), `lines'+1, `lines'))
04         forvalues i=1(1)`lines' {c -(}
04         local top = min((`cols')*`lines'+`i', `n')
04         local col = 1
04         forvalues j=`i'(`lines')`top' {c -(}
04         local x : word `j' of `vars'
04         di as txt _column(`col') "`x'" _c
04         local col = `col' + `wid'
04         {c )-}
04         di as txt
04         {c )-}
04         qui `version' describe `varlist' `using', short
04         return add
04         {c )-}
04         else {c -(}
04         ds `varlist'
04         qui `version' _describe `varlist', short
04         return add
04         {c )-}
04         {c )-}
         {hline 53} end describe {hline}
03     - local sortedby "`r(sortlist)'"
       = local sortedby "cdscode"
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       preserve
03       qui use "`using'", clear
03       sort `varlist'
03       tempfile using
03       qui save "`using'", replace
03       restore
03       {c )-}
03     - {c )-}
03     - if ("`nogenerate'"!="") {c -(}
       = if (""!="") {c -(}
03       tempvar mergevar
03       local mergevaristemp 1
03       {c )-}
03     - else {c -(}
03     - local mergevar = cond("`generate'"!="", "`generate'", "_merge")
       = local mergevar = cond(""!="", "", "_merge")
03     - local mergevaristemp 0
03     - {c )-}
03     - local options `update' `replace' `notes' `labels' _merge(`mergevar') `force'
       = local options     _merge(_merge) 
03     - if (bsubstr("`mtype'", 1, 1)=="1") {c -(}
       = if (bsubstr("1:1", 1, 1)=="1") {c -(}
03     - local options `options' uniqmaster
       = local options _merge(_merge) uniqmaster
03     - {c )-}
03     - if (bsubstr("`mtype'", 3, 1)=="1") {c -(}
       = if (bsubstr("1:1", 3, 1)=="1") {c -(}
03     - local options `options' uniqusing
       = local options _merge(_merge) uniqmaster uniqusing
03     - {c )-}
03     - if ("`keepusing'"!="") {c -(}
       = if (""!="") {c -(}
03       local options `options' keep(`keepusing')
03       {c )-}
03     - if ("`keep'" !="" & !strpos("`keep'" , "2")) {c -(}
       = if ("" !="" & !strpos("" , "2")) {c -(}
03       local options `options' nokeep
03       {c )-}
03     - if (_caller() > 15) {c -(}
03     - local version : di "version " string(_caller()) ": "
03     - {c )-}
03     - local _merge `"`version'_merge `varlist' using "`using'", nowarn"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1516.dta", nowarn"'
03     - local _merge `"`_merge' `options' tabulate(mresults)"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1516.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)"'
03     - if ("`debug'"!="") {c -(}
       = if (""!="") {c -(}
03       di as txt _n "command is"
03       di `"`_merge'"' _n
03       {c )-}
03     - `_merge'
       = version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1516.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)
03     - if (!`mergevaristemp') {c -(}
       = if (!0) {c -(}
03     - capture label list _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("list", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label list _merge
04         {c )-}
         {hline 56} end label {hline}
03     - if (_rc) {c -(}
03     - label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("define", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - label values `mergevar' _merge
       = label values _merge _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("values", "val") > 0 ) {c -(}
04       - gettoken val 0 : 0
04       - syntax anything [, nofix]
04       - if "`fix'" != "" {c -(}
         = if "" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04       - gettoken var rest : anything
04       - while `"`rest'"' != "" {c -(}
         = while `" _merge"' != "" {c -(}
04       - gettoken lab rest : rest
04       - local label "`lab'"
         = local label "_merge"
04       - {c )-}
04       - while `"`rest'"' != "" {c -(}
         = while `""' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04       - local vlist : list anything - lab
04       - if "`lab'" == "." {c -(}
         = if "_merge" == "." {c -(}
04         local lab ""
04         {c )-}
04       - foreach var of varlist `vlist' {c -(}
         = foreach var of varlist _merge {c -(}
04       - `vv' _label `val' `var' `lab' `fix'
         = version 11, missing: _label values _merge _merge 
04       - {c )-}
04       - {c )-}
04       - else {c -(}
04         `vv' _label `macval(0)'
04         {c )-}
         {hline 56} end label {hline}
03     - label variable `mergevar' "Matching result from merge"
       = label variable _merge "Matching result from merge"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("variable", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label variable _merge "Matching result from merge"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - if ("`assert'"!="") {c -(}
       = if (""!="") {c -(}
03       if (_caller() < 13) {c -(}
03       buildexpr expr : `mergevar' "`assert'"
03       capture assert `expr'
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       else {c -(}
03       capture checkmresults "`mresults'" "`assert'"
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       {c )-}
03     - if ("`keep'"!="") {c -(}
       = if (""!="") {c -(}
03       buildexpr expr : `mergevar' "`keep'"
03       quietly keep if `expr'
03       {c )-}
03     - if ("`mtype'"=="1:1") {c -(}
       = if ("1:1"=="1:1") {c -(}
03     - qui count if `mergevar'==2
       = qui count if _merge==2
03     - if (r(N)==0) {c -(}
03       sort `varlist'
03       {c )-}
03     - {c )-}
03     - if (c(noisily) & "`report'"=="") {c -(}
       = if (c(noisily) & ""=="") {c -(}
03     - local isupdate = ("`replace'"!="" | "`update'"!="")
       = local isupdate = (""!="" | ""!="")
03     - present_table `isupdate' `mergevar' `mergevaristemp'
       = present_table 0 _merge 0
         {hline 40} begin merge.present_table {hline}
04       - args isupdate mergevar mergevaristemp
04       - if (!`mergevaristemp') {c -(}
         = if (!0) {c -(}
04       - local v1 "(`mergevar'==1)"
         = local v1 "(_merge==1)"
04       - local v2 "(`mergevar'==2)"
         = local v2 "(_merge==2)"
04       - local v3 "(`mergevar'==3)"
         = local v3 "(_merge==3)"
04       - local v4 "(`mergevar'==4)"
         = local v4 "(_merge==4)"
04       - local v5 "(`mergevar'==5)"
         = local v5 "(_merge==5)"
04       - {c )-}
04       - quietly {c -(}
04       - count if `mergevar'==1
         = count if _merge==1
04       - local m1 = r(N)
04       - count if `mergevar'==2
         = count if _merge==2
04       - local m2 = r(N)
04       - if (`isupdate') {c -(}
         = if (0) {c -(}
04         count if `mergevar'==3
04         local m3 = r(N)
04         count if `mergevar'==4
04         local m4 = r(N)
04         local m5 = _N - `m1' - `m2' - `m3' - `m4'
04         {c )-}
04       - else {c -(}
04       - local m3 = _N - `m1' - `m2'
         = local m3 = _N - 215 - 8853
04       - {c )-}
04       - {c )-}
04       - di

04       - di as smcl as txt _col(5) "Result" _col(33) "Number of obs"
{col 5}Result{col 33}Number of obs
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
04       - di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (`m1'+`m2')
         = di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (215+8853)
{col 5}Not matched{col 30}{res}           9,068
{txt}04       - if (`m1'|`m2') {c -(}
         = if (215|8853) {c -(}
04       - di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc `m1' as txt "  `v1'"
         = di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc 215 as txt "  (_merge==1)"
{col 9}from master{col 30}{res}             215{txt}  (_merge==1)
04       - di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc `m2' as txt "  `v2'"
         = di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc 8853 as txt "  (_merge==2)"
{col 9}from using{col 30}{res}           8,853{txt}  (_merge==2)
04       - di

04       - {c )-}
04       - if (!`isupdate') {c -(}
         = if (!0) {c -(}
04       - di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc `m3' as txt "  `v3'"
         = di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc 1608 as txt "  (_merge==3)"
{col 5}Matched{col 30}{res}           1,608{txt}  (_merge==3)
04       - {c )-}
04       - else {c -(}
04         if (`m1'==0 & `m2'==0) {c -(}
04         di
04         {c )-}
04         di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc (`m3'+`m4'+`m5')
04         di as smcl as txt _col(9) "not updated" _col(30) as res %16.0fc `m3' as txt "  `v3'"
04         di as smcl as txt _col(9) "missing updated" _col(30) as res %16.0fc `m4' as txt "  `v4'"
04         di as smcl as txt _col(9) "nonmissing conflict" _col(30) as res %16.0fc `m5' as txt "  `v5'"
04         {c )-}
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
         {hline 42} end merge.present_table {hline}
03     - {c )-}
       {hline 58} end merge {hline}
02   - drop if _merge != 3
(9,068 observations deleted)
02   - drop _merge
02   - compress
  variable {bf}{res}gr1femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr3blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr5blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svygr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
{txt}  (201,000 bytes saved)
02   - save $projdir/dta/demographics/elementary/elemdemo`i', replace
     = save /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1516, replace
{p 0 4 2}
file {bf}
/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1516.dta{rm}
saved
{p_end}
02   - {c )-}
02   - use $projdir/dta/demographics/temp/elementary/elem`i'temp, clear
     = use /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/temp/elementary/elem1617temp, clear
(2016-17 Elementary CHKS Data)
02   - gen byte female = 0
02   - replace female = 1 if sex == 1
(47,272 real changes made)
02   - gen byte male = 0
02   - replace male = 1 if sex == 2
(43,971 real changes made)
02   - gen byte gr3 = 0
02   - gen byte gr4 = 0
02   - gen byte gr5 = 0
02   - gen byte gr6 = 0
02   - replace gr3 = 1 if grade == 3
(1,238 real changes made)
02   - replace gr4 = 1 if grade == 4
(2,868 real changes made)
02   - replace gr5 = 1 if grade == 5
(87,088 real changes made)
02   - replace gr6 = 1 if grade == 6
(3,459 real changes made)
02   - gen byte femalegr3 = 0
02   - replace femalegr3 = 1 if female == 1 & gr3 == 1
(609 real changes made)
02   - gen byte femalegr4 = 0
02   - replace femalegr4 = 1 if female == 1 & gr4 == 1
(1,272 real changes made)
02   - gen byte femalegr5 = 0
02   - replace femalegr5 = 1 if female == 1 & gr5 == 1
(43,415 real changes made)
02   - gen byte femalegr6 = 0
02   - replace femalegr6 = 1 if female == 1 & gr6 == 1
(1,793 real changes made)
02   - gen byte malegr3 = 0
02   - replace malegr3 = 1 if male == 1 & gr3 == 1
(561 real changes made)
02   - gen byte malegr4 = 0
02   - replace malegr4 = 1 if male == 1 & gr4 == 1
(1,274 real changes made)
02   - gen byte malegr5 = 0
02   - replace malegr5 = 1 if male == 1 & gr5 == 1
(40,259 real changes made)
02   - gen byte malegr6 = 0
02   - replace malegr6 = 1 if male == 1 & gr6 == 1
(1,646 real changes made)
02   - collapse (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
       {hline 53} begin collapse {hline}
03     - version 8, missing
03     - if _caller() < 5 {c -(}
03       collaps4 `0'
03       exit
03       {c )-}
03     - collapse_17 `0'
       = collapse_17 (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
         {hline 48} begin collapse_17 {hline}
04       - syntax [anything(name=clist id=clist equalok)] [if] [in] [aw fw iw pw] [, BY(varlist) CW FAST CLABEL frame(name) GRAPHBAR(name) ]
04       - if ("`fast'"=="") preserve
         = if (""=="") preserve
04       - local clist: subinstr local clist "[]" "", all
04       - local 0 : subinstr local 0 "[]" "", all
04       - local n 0
04       - local stat = "mean"
04       - if `"`graphbar'"' != `""' & `"`clist'"'=="" & `"`by'"'!="" {c -(}
         = if `""' != `""' & `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'=="" & `"cdscode"'!="" {c -(}
04         local stat = "percent"
04         gen _percent = 1
04         label var _percent "percent"
04         local clist = "percent=_percent"
04         {c )-}
04       - local awnote 0
04       - local ct = 0
04       - local stable ""
04       - while `"`clist'"' != "" {c -(}
         = while `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' != "" {c -(}
04       - GetOpStat stat clist : "`stat'" `"`clist'"'
         = GetOpStat stat clist : "mean" `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - gettoken tok1 rest : clist , parse(" =.") bind
04       - gettoken tok2 rest2: rest, parse(" =.") bind
04       - if `"`stat'"' == "count" {c -(}
         = if `"sum"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04       - if "`tok2'" == "=" {c -(}
         = if "male" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04       - else {c -(}
04       - if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
         = if `""' != `""' & 1 == 1 & `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04       - GetVarlist vl clist : `"`clist'"'
         = GetVarlist vl clist : `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local i 0
04       - tsrevar `vl'
         = tsrevar female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6
04       - foreach el in `r(varlist)' {c -(}
         = foreach el in female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 {c -(}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female"'
04       - local tar `"`tar' `el'"'
         = local tar `" female"'
04       - local old`n' `el'
         = local old1 female
04       - local lab`n' "`realname'"
         = local lab1 "female"
04       - local fcn`n' `"`stat'"'
         = local fcn1 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new1 fmt1 : female female
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male"'
04       - local old`n' `el'
         = local old2 male
04       - local lab`n' "`realname'"
         = local lab2 "male"
04       - local fcn`n' `"`stat'"'
         = local fcn2 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new2 fmt2 : male male
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3"'
04       - local old`n' `el'
         = local old3 gr3
04       - local lab`n' "`realname'"
         = local lab3 "gr3"
04       - local fcn`n' `"`stat'"'
         = local fcn3 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new3 fmt3 : gr3 gr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4"'
04       - local old`n' `el'
         = local old4 gr4
04       - local lab`n' "`realname'"
         = local lab4 "gr4"
04       - local fcn`n' `"`stat'"'
         = local fcn4 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new4 fmt4 : gr4 gr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5"'
04       - local old`n' `el'
         = local old5 gr5
04       - local lab`n' "`realname'"
         = local lab5 "gr5"
04       - local fcn`n' `"`stat'"'
         = local fcn5 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new5 fmt5 : gr5 gr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6"'
04       - local old`n' `el'
         = local old6 gr6
04       - local lab`n' "`realname'"
         = local lab6 "gr6"
04       - local fcn`n' `"`stat'"'
         = local fcn6 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new6 fmt6 : gr6 gr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local old`n' `el'
         = local old7 femalegr3
04       - local lab`n' "`realname'"
         = local lab7 "femalegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn7 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new7 fmt7 : femalegr3 femalegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local old`n' `el'
         = local old8 femalegr4
04       - local lab`n' "`realname'"
         = local lab8 "femalegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn8 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new8 fmt8 : femalegr4 femalegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local old`n' `el'
         = local old9 femalegr5
04       - local lab`n' "`realname'"
         = local lab9 "femalegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn9 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new9 fmt9 : femalegr5 femalegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local old`n' `el'
         = local old10 femalegr6
04       - local lab`n' "`realname'"
         = local lab10 "femalegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn10 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new10 fmt10 : femalegr6 femalegr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local old`n' `el'
         = local old11 malegr3
04       - local lab`n' "`realname'"
         = local lab11 "malegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn11 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new11 fmt11 : malegr3 malegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local old`n' `el'
         = local old12 malegr4
04       - local lab`n' "`realname'"
         = local lab12 "malegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn12 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new12 fmt12 : malegr4 malegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local old`n' `el'
         = local old13 malegr5
04       - local lab`n' "`realname'"
         = local lab13 "malegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn13 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new13 fmt13 : malegr5 malegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local old`n' `el'
         = local old14 malegr6
04       - local lab`n' "`realname'"
         = local lab14 "malegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn14 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new14 fmt14 : malegr6 malegr6
04       - {c )-}
04       - {c )-}
04       - if "`stable'" == "" {c -(}
         = if "" == "" {c -(}
04       - if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
         = if "sum" == "first" | "sum" == "last" | "sum" == "firstnm" | "sum" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - while `"`clist'"' != "" {c -(}
         = while `""' != "" {c -(}
04         GetOpStat stat clist : "`stat'" `"`clist'"'
04         gettoken tok1 rest : clist , parse(" =.") bind
04         gettoken tok2 rest2: rest, parse(" =.") bind
04         if `"`stat'"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04         if "`tok2'" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04         else {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04         GetVarlist vl clist : `"`clist'"'
04         local i 0
04         tsrevar `vl'
04         foreach el in `r(varlist)' {c -(}
04         local ++n
04         gettoken realname vl : vl
04         local ++i
04         local keep `"`keep' `el'"'
04         local tar `"`tar' `el'"'
04         local old`n' `el'
04         local lab`n' "`realname'"
04         local fcn`n' `"`stat'"'
04         Setnf new`n' fmt`n' : `realname' `el'
04         {c )-}
04         {c )-}
04         if "`stable'" == "" {c -(}
04         if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04         {c )-}
04         {c )-}
04       - if (`n'==0) error 198
         = if (14==0) error 198
04       - if `"`by'"'!="" {c -(}
         = if `"cdscode"'!="" {c -(}
04       - bynottar `"`by'"' `"`tar'"'
         = bynottar `"cdscode"' `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - {c )-}
04       - if `"`weight'"' != "" {c -(}
         = if `""' != "" {c -(}
04         tempvar w
04         qui gen double `w' `exp' `if' `in'
04         local wgt `"[`weight'=`w']"'
04         {c )-}
04       - if "`if'`in'`wgt'" != "" {c -(}
         = if "" != "" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         if `"`cw'"'!="" {c -(}
04         markout `touse' `keep'
04         {c )-}
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - if `"`cw'"'!="" {c -(}
         = if `""'!="" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         markout `touse' `keep'
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - qui count
04       - if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - qui keep `keep' `by' `w'
         = qui keep  female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 cdscode 
04       - local i 1
04       - while `i' <= `n' {c -(}
         = while 1 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use1 `"__000000"'
04       - rename `old`i'' `use'
         = rename female __000000
04       - local lasti `i'
         = local lasti 1
04       - {c )-}
04       - local j=`i'+1
         = local j=1+1
04       - while `j'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"male"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"male"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp1 `"__000000"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 2 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use2 `"__000001"'
04       - rename `old`i'' `use'
         = rename male __000001
04       - local lasti `i'
         = local lasti 2
04       - {c )-}
04       - local j=`i'+1
         = local j=2+1
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp2 `"__000001"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 3 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use3 `"__000002"'
04       - rename `old`i'' `use'
         = rename gr3 __000002
04       - local lasti `i'
         = local lasti 3
04       - {c )-}
04       - local j=`i'+1
         = local j=3+1
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp3 `"__000002"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 4 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use4 `"__000003"'
04       - rename `old`i'' `use'
         = rename gr4 __000003
04       - local lasti `i'
         = local lasti 4
04       - {c )-}
04       - local j=`i'+1
         = local j=4+1
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp4 `"__000003"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 5 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use5 `"__000004"'
04       - rename `old`i'' `use'
         = rename gr5 __000004
04       - local lasti `i'
         = local lasti 5
04       - {c )-}
04       - local j=`i'+1
         = local j=5+1
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp5 `"__000004"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 6 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use6 `"__000005"'
04       - rename `old`i'' `use'
         = rename gr6 __000005
04       - local lasti `i'
         = local lasti 6
04       - {c )-}
04       - local j=`i'+1
         = local j=6+1
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp6 `"__000005"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 7 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use7 `"__000006"'
04       - rename `old`i'' `use'
         = rename femalegr3 __000006
04       - local lasti `i'
         = local lasti 7
04       - {c )-}
04       - local j=`i'+1
         = local j=7+1
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp7 `"__000006"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 8 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use8 `"__000007"'
04       - rename `old`i'' `use'
         = rename femalegr4 __000007
04       - local lasti `i'
         = local lasti 8
04       - {c )-}
04       - local j=`i'+1
         = local j=8+1
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp8 `"__000007"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 9 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use9 `"__000008"'
04       - rename `old`i'' `use'
         = rename femalegr5 __000008
04       - local lasti `i'
         = local lasti 9
04       - {c )-}
04       - local j=`i'+1
         = local j=9+1
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp9 `"__000008"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 10 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use10 `"__000009"'
04       - rename `old`i'' `use'
         = rename femalegr6 __000009
04       - local lasti `i'
         = local lasti 10
04       - {c )-}
04       - local j=`i'+1
         = local j=10+1
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp10 `"__000009"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 11 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use11 `"__00000A"'
04       - rename `old`i'' `use'
         = rename malegr3 __00000A
04       - local lasti `i'
         = local lasti 11
04       - {c )-}
04       - local j=`i'+1
         = local j=11+1
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp11 `"__00000A"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 12 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use12 `"__00000B"'
04       - rename `old`i'' `use'
         = rename malegr4 __00000B
04       - local lasti `i'
         = local lasti 12
04       - {c )-}
04       - local j=`i'+1
         = local j=12+1
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp12 `"__00000B"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 13 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use13 `"__00000C"'
04       - rename `old`i'' `use'
         = rename malegr5 __00000C
04       - local lasti `i'
         = local lasti 13
04       - {c )-}
04       - local j=`i'+1
         = local j=13+1
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp13 `"__00000C"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 14 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use14 `"__00000D"'
04       - rename `old`i'' `use'
         = rename malegr6 __00000D
04       - local lasti `i'
         = local lasti 14
04       - {c )-}
04       - local j=`i'+1
         = local j=14+1
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp14 `"__00000D"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 15 <= 14 {c -(}
04         if `"`drp`i''"'=="" {c -(}
04         tempname use
04         local use`i' `"`use'"'
04         rename `old`i'' `use'
04         local lasti `i'
04         {c )-}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04         if `"`drp`i''"'=="" {c -(}
04         local drp`lasti' `"`use'"'
04         {c )-}
04         local ++i
04         {c )-}
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         foreach i of local nameIndexList {c -(}
04         local new`i' `temp`i''
04         {c )-}
04         forvalues i = 1/`n' {c -(}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         forvalues idx = `j'/`=`n'-1' {c -(}
04         local idx2 = `idx' + 1
04         local new`idx' `new`idx2''
04         local fcn`idx' `fcn`idx2''
04         local lab`idx' `lab`idx2''
04         local fmt`idx' `fmt`idx2''
04         local use`idx' `use`idx2''
04         {c )-}
04         local --n
04         {c )-}
04         else {c -(}
04         local ++j
04         {c )-}
04         {c )-}
04         {c )-}
04         {c )-}
04       - cap mata: setup_collapse("`by'", "`weight'", "`w'")
         = cap mata: setup_collapse("cdscode", "", "")
04       - if _rc > 0 {c -(}
04         di as error "failed to setup collapse problem"
04         exit 198
04         {c )-}
04       - quietly {c -(}
04       - tempvar new
04       - tempname m_newvar_name_list
04       - tempname m_newvar_type_list
04       - tempname m_strvar_name_list
04       - mata: `m_newvar_name_list' = J(1, 0, "")
         = mata: __00000F = J(1, 0, "")
04       - mata: `m_newvar_type_list' = J(1, 0, "")
         = mata: __00000G = J(1, 0, "")
04       - mata: `m_strvar_name_list' = J(1, 0, "")
         = mata: __00000H = J(1, 0, "")
04       - local has_string_vars 0
04       - local string_var_list = ""
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("female", "__000000", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "female")
04       - local ty : type `use`i''
         = local ty : type __000000
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("male", "__000001", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "male")
04       - local ty : type `use`i''
         = local ty : type __000001
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr3", "__000002", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr3")
04       - local ty : type `use`i''
         = local ty : type __000002
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr4", "__000003", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr4")
04       - local ty : type `use`i''
         = local ty : type __000003
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr5", "__000004", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr5")
04       - local ty : type `use`i''
         = local ty : type __000004
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr6", "__000005", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr6")
04       - local ty : type `use`i''
         = local ty : type __000005
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr3", "__000006", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr3")
04       - local ty : type `use`i''
         = local ty : type __000006
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr4", "__000007", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr4")
04       - local ty : type `use`i''
         = local ty : type __000007
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr5", "__000008", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr5")
04       - local ty : type `use`i''
         = local ty : type __000008
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr6", "__000009", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr6")
04       - local ty : type `use`i''
         = local ty : type __000009
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr3", "__00000A", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr3")
04       - local ty : type `use`i''
         = local ty : type __00000A
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr4", "__00000B", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr4")
04       - local ty : type `use`i''
         = local ty : type __00000B
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr5", "__00000C", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr5")
04       - local ty : type `use`i''
         = local ty : type __00000C
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr6", "__00000D", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr6")
04       - local ty : type `use`i''
         = local ty : type __00000D
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if "`weight'" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04         cap {c -(}
04         mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
04         {c )-}
04         if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04         mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
04         local ty : type `use`i''
04         if bsubstr("`ty'", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04         else {c -(}
04         if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
04         local ty "double"
04         {c )-}
04         else if "_`fcn`i''" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04         else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04         else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
04         {c )-}
04         mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
04         local ++i
04         {c )-}
04       - {c )-}
04       - cap {c -(}
04       - mata: compute_collapse()
04       - {c )-}
04       - if _rc == 9901 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to compute"
04         exit 198
04         {c )-}
04       - if _rc > 0 {c -(}
04         local myrc _rc
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         error `myrc'
04         exit
04         {c )-}
04       - tempname newobs
04       - cap {c -(}
04       - mata: get_obsno_collapse("`newobs'")
         = mata: get_obsno_collapse("__00000I")
04       - {c )-}
04       - cap {c -(}
04       - local tframe = ""
04       - if "`has_string_vars'" == "1" {c -(}
         = if "0" == "1" {c -(}
04         tempname tframe
04         frame put `string_var_list', into(`tframe')
04         {c )-}
04       - if "`by'" == "" {c -(}
         = if "cdscode" == "" {c -(}
04         drop _all
04         set obs ``newobs''
04         {c )-}
04       - else {c -(}
04       - keep `by'
         = keep cdscode
04       - cap {c -(}
04       - mata: _collapse_clean_bys()
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to drop observations from by list"
04         exit 198
04         {c )-}
04       - {c )-}
04       - mata:get_from_collapse(`m_newvar_name_list', `m_newvar_type_list', `m_strvar_name_list', "`tframe'")
         = mata:get_from_collapse(__00000F, __00000G, __00000H, "")
04       - if "`by'" != "" {c -(}
         = if "cdscode" != "" {c -(}
04       - sort `by'
         = sort cdscode
04       - {c )-}
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to create new variable"
04         exit 198
04         {c )-}
04       - mata:clear_collapse()
{res}{txt}04       - mata: mata drop `m_newvar_name_list'
         = mata: mata drop __00000F
04       - mata: mata drop `m_newvar_type_list'
         = mata: mata drop __00000G
04       - mata: mata drop `m_strvar_name_list'
         = mata: mata drop __00000H
04       - quietly {c -(}
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "female" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "female" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var female `"(sum) female"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var female `"sum of female"'
04       - format `new`i'' `fmt`i''
         = format female %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "male" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "male" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var male `"(sum) male"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var male `"sum of male"'
04       - format `new`i'' `fmt`i''
         = format male %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr3 `"(sum) gr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr3 `"sum of gr3"'
04       - format `new`i'' `fmt`i''
         = format gr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr4 `"(sum) gr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr4 `"sum of gr4"'
04       - format `new`i'' `fmt`i''
         = format gr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr5 `"(sum) gr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr5 `"sum of gr5"'
04       - format `new`i'' `fmt`i''
         = format gr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr6 `"(sum) gr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr6 `"sum of gr6"'
04       - format `new`i'' `fmt`i''
         = format gr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr3 `"(sum) femalegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr3 `"sum of femalegr3"'
04       - format `new`i'' `fmt`i''
         = format femalegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr4 `"(sum) femalegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr4 `"sum of femalegr4"'
04       - format `new`i'' `fmt`i''
         = format femalegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr5 `"(sum) femalegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr5 `"sum of femalegr5"'
04       - format `new`i'' `fmt`i''
         = format femalegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr6 `"(sum) femalegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr6 `"sum of femalegr6"'
04       - format `new`i'' `fmt`i''
         = format femalegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr3 `"(sum) malegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr3 `"sum of malegr3"'
04       - format `new`i'' `fmt`i''
         = format malegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr4 `"(sum) malegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr4 `"sum of malegr4"'
04       - format `new`i'' `fmt`i''
         = format malegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr5 `"(sum) malegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr5 `"sum of malegr5"'
04       - format `new`i'' `fmt`i''
         = format malegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr6 `"(sum) malegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr6 `"sum of malegr6"'
04       - format `new`i'' `fmt`i''
         = format malegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04         else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04         else if "`clabel'"=="" {c -(}
04         label var `new`i'' `"(`fcn`i'') `lab`i''"'
04         {c )-}
04         else label var `new`i'' `"`fcn`i'' of `lab`i''"'
04         format `new`i'' `fmt`i''
04         local ++i
04         {c )-}
04       - {c )-}
04       - global S_FN
04       - global S_FNDATE
04       - if ("`fast'" == "") restore, not
         = if ("" == "") restore, not
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         forvalues i = 1/`n' {c -(}
04         local retVarList `retVarList' `new`i''
04         {c )-}
04         c_local col17_graphbar "`graphbar'"
04         c_local `graphbar' "`retVarList'"
04         {c )-}
04       - if `awnote' {c -(}
         = if 0 {c -(}
04         di as txt "(note: {c -(}bf:aweight{c )-}s not used to compute {c -(}bf:count{c )-}s)"
04         {c )-}
         {hline 50} end collapse_17 {hline}
03     - if "`col17_graphbar'" != "" {c -(}
       = if "" != "" {c -(}
03       c_local `col17_graphbar' "``col17_graphbar''"
03       {c )-}
       {hline 55} end collapse {hline}
02   - rename female svyfemale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemale "number of female students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemale "number of female students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename male svymale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymale "number of male students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymale "number of male students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename gr3 svygr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr4 svygr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr5 svygr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr6 svygr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svygr3 "number of students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr3 "number of students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr4 "number of students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr4 "number of students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr5 "number of students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr5 "number of students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr6 "number of students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr6 "number of students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename femalegr3 svyfemalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr4 svyfemalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr5 svyfemalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr6 svyfemalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemalegr3 "number of female students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr3 "number of female students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr4 "number of female students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr4 "number of female students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr5 "number of female students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr5 "number of female students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr6 "number of female students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr6 "number of female students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename malegr3 svymalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr4 svymalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr5 svymalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr6 svymalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymalegr3 "number of male students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr3 "number of male students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr4 "number of male students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr4 "number of male students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr5 "number of male students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr5 "number of male students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr6 "number of male students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr6 "number of male students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - drop if missing(cdscode)
(1 observation deleted)
02   - merge 1:1 cdscode using $projdir/dta/enrollment/schoollevel/enr`i'
     = merge 1:1 cdscode using /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1617
       {hline 56} begin merge {hline}
03     - version 11
03     - gettoken mtype 0 : 0, parse(" ,")
03     - if (!strpos("`mtype'", ":") & "`mtype'"!="") {c -(}
       = if (!strpos("1:1", ":") & "1:1"!="") {c -(}
03       if (_caller()>=11) {c -(}
03       di as smcl as txt "{c -(}p{c )-}"
03       di as smcl "(you are using old"
03       di as smcl "{c -(}bf:merge{c )-} syntax; see"
03       di as smcl "{c -(}bf:{c -(}help merge:[D] merge{c )-}{c )-} for new syntax)"
03       di as smcl "{c -(}p_end{c )-}"
03       {c )-}
03       merge_10 `mtype' `0'
03       exit
03       {c )-}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - gettoken token : 0, parse(" ,")
03     - if ("`token'"=="_n") {c -(}
       = if ("cdscode"=="_n") {c -(}
03       if ("`mtype'"!="1:1") {c -(}
03       error_seq_not11 "`mtype'" "`origmtype'"
03       {c )-}
03       gettoken token 0 : 0, parse(" ,")
03       local mtype "_n"
03       {c )-}
03     - syntax [varlist(default=none)] using/ [, ASSERT(string) DEBUG GENerate(name) FORCE KEEP(string) KEEPUSing(string) noLabels NOGENerate noNOTEs REPLACE noREPort SORTED UPDATE ]
03     - if ("`mtype'"!="_n") {c -(}
       = if ("1:1"!="_n") {c -(}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - if ("`varlist'"=="") {c -(}
       = if ("cdscode"=="") {c -(}
03       error_mat_varlist "`mtype'" "`origmtype'"
03       {c )-}
03     - {c )-}
03     - else {c -(}
03       if ("`mtype'"=="_n") {c -(}
03       if ("`varlist'"!="") {c -(}
03       error_seq_varlist
03       {c )-}
03       {c )-}
03       {c )-}
03     - mata: fullfilename("using", "usingfull", "using")
{res}{txt}03     - mata: resultlist("assert")
{res}{txt}03     - mata: resultlist("keep")
{res}{txt}03     - if ("`generate'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`nogenerate'"!="") {c -(}
03       di as smcl err "{c -(}p{c )-}"
03       di as smcl "options -generate()- and -nogenerate-"
03       di as smcl "may not be specified together."
03       di as smcl err "{c -(}p_end{c )-}"
03       {c )-}
03       confirm new var `generate'
03       {c )-}
03     - if ("`replace'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`update'"=="") {c -(}
03       error_replace
03       {c )-}
03       {c )-}
03     - if ("`sorted'"=="" & "`mtype'"!="_n") {c -(}
       = if (""=="" & "1:1"!="_n") {c -(}
03     - local sortedby : sortedby
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       sort `varlist'
03       {c )-}
03     - quietly describe using "`using'", varlist short
       = quietly describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1617.dta", varlist short
         {hline 51} begin describe {hline}
04       - version 9
04       - local version : di "version " string(_caller()) ":"
04       - syntax [anything] [using] [, SImple REPLACE *]
04       - if ("`replace'"!="") {c -(}
         = if (""!="") {c -(}
04         describe_mk `0'
04         return add
04         exit
04         {c )-}
04       - local varlist `"`anything'"'
         = local varlist `""'
04       - if ("`simple'" == "") {c -(}
         = if ("" == "") {c -(}
04       - `version' _describe `0'
         = version 11: _describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1617.dta", varlist short
04       - return add
04       - {c )-}
04       - else {c -(}
04         if (`"`options'"' != "") {c -(}
04         di as err "simple may not be combined with other options"
04         exit 198
04         {c )-}
04         if (`"`using'"' != "") {c -(}
04         qui `version' describe `varlist' `using', varlist
04         if "`varlist'" == "" {c -(}
04         local vars "`r(varlist)'"
04         {c )-}
04         else {c -(}
04         local vars "`varlist'"
04         {c )-}
04         local wid = 2
04         local n : list sizeof vars
04         if `n'==0 {c -(}
04         exit
04         {c )-}
04         if "`c(hasicu)'" == "1" {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', udstrlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         else {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', strlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         local wid = `wid' + 2
04         local cols = int((`c(linesize)'+1)/`wid')
04         if `cols' < 2 {c -(}
04         foreach x of local `vars' {c -(}
04         di as txt `col' `"`x'"'
04         {c )-}
04         exit
04         {c )-}
04         local lines = `n'/`cols'
04         local lines = int(cond(`lines'>int(`lines'), `lines'+1, `lines'))
04         forvalues i=1(1)`lines' {c -(}
04         local top = min((`cols')*`lines'+`i', `n')
04         local col = 1
04         forvalues j=`i'(`lines')`top' {c -(}
04         local x : word `j' of `vars'
04         di as txt _column(`col') "`x'" _c
04         local col = `col' + `wid'
04         {c )-}
04         di as txt
04         {c )-}
04         qui `version' describe `varlist' `using', short
04         return add
04         {c )-}
04         else {c -(}
04         ds `varlist'
04         qui `version' _describe `varlist', short
04         return add
04         {c )-}
04         {c )-}
         {hline 53} end describe {hline}
03     - local sortedby "`r(sortlist)'"
       = local sortedby "cdscode"
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       preserve
03       qui use "`using'", clear
03       sort `varlist'
03       tempfile using
03       qui save "`using'", replace
03       restore
03       {c )-}
03     - {c )-}
03     - if ("`nogenerate'"!="") {c -(}
       = if (""!="") {c -(}
03       tempvar mergevar
03       local mergevaristemp 1
03       {c )-}
03     - else {c -(}
03     - local mergevar = cond("`generate'"!="", "`generate'", "_merge")
       = local mergevar = cond(""!="", "", "_merge")
03     - local mergevaristemp 0
03     - {c )-}
03     - local options `update' `replace' `notes' `labels' _merge(`mergevar') `force'
       = local options     _merge(_merge) 
03     - if (bsubstr("`mtype'", 1, 1)=="1") {c -(}
       = if (bsubstr("1:1", 1, 1)=="1") {c -(}
03     - local options `options' uniqmaster
       = local options _merge(_merge) uniqmaster
03     - {c )-}
03     - if (bsubstr("`mtype'", 3, 1)=="1") {c -(}
       = if (bsubstr("1:1", 3, 1)=="1") {c -(}
03     - local options `options' uniqusing
       = local options _merge(_merge) uniqmaster uniqusing
03     - {c )-}
03     - if ("`keepusing'"!="") {c -(}
       = if (""!="") {c -(}
03       local options `options' keep(`keepusing')
03       {c )-}
03     - if ("`keep'" !="" & !strpos("`keep'" , "2")) {c -(}
       = if ("" !="" & !strpos("" , "2")) {c -(}
03       local options `options' nokeep
03       {c )-}
03     - if (_caller() > 15) {c -(}
03     - local version : di "version " string(_caller()) ": "
03     - {c )-}
03     - local _merge `"`version'_merge `varlist' using "`using'", nowarn"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1617.dta", nowarn"'
03     - local _merge `"`_merge' `options' tabulate(mresults)"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1617.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)"'
03     - if ("`debug'"!="") {c -(}
       = if (""!="") {c -(}
03       di as txt _n "command is"
03       di `"`_merge'"' _n
03       {c )-}
03     - `_merge'
       = version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1617.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)
03     - if (!`mergevaristemp') {c -(}
       = if (!0) {c -(}
03     - capture label list _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("list", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label list _merge
04         {c )-}
         {hline 56} end label {hline}
03     - if (_rc) {c -(}
03     - label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("define", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - label values `mergevar' _merge
       = label values _merge _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("values", "val") > 0 ) {c -(}
04       - gettoken val 0 : 0
04       - syntax anything [, nofix]
04       - if "`fix'" != "" {c -(}
         = if "" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04       - gettoken var rest : anything
04       - while `"`rest'"' != "" {c -(}
         = while `" _merge"' != "" {c -(}
04       - gettoken lab rest : rest
04       - local label "`lab'"
         = local label "_merge"
04       - {c )-}
04       - while `"`rest'"' != "" {c -(}
         = while `""' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04       - local vlist : list anything - lab
04       - if "`lab'" == "." {c -(}
         = if "_merge" == "." {c -(}
04         local lab ""
04         {c )-}
04       - foreach var of varlist `vlist' {c -(}
         = foreach var of varlist _merge {c -(}
04       - `vv' _label `val' `var' `lab' `fix'
         = version 11, missing: _label values _merge _merge 
04       - {c )-}
04       - {c )-}
04       - else {c -(}
04         `vv' _label `macval(0)'
04         {c )-}
         {hline 56} end label {hline}
03     - label variable `mergevar' "Matching result from merge"
       = label variable _merge "Matching result from merge"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("variable", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label variable _merge "Matching result from merge"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - if ("`assert'"!="") {c -(}
       = if (""!="") {c -(}
03       if (_caller() < 13) {c -(}
03       buildexpr expr : `mergevar' "`assert'"
03       capture assert `expr'
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       else {c -(}
03       capture checkmresults "`mresults'" "`assert'"
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       {c )-}
03     - if ("`keep'"!="") {c -(}
       = if (""!="") {c -(}
03       buildexpr expr : `mergevar' "`keep'"
03       quietly keep if `expr'
03       {c )-}
03     - if ("`mtype'"=="1:1") {c -(}
       = if ("1:1"=="1:1") {c -(}
03     - qui count if `mergevar'==2
       = qui count if _merge==2
03     - if (r(N)==0) {c -(}
03       sort `varlist'
03       {c )-}
03     - {c )-}
03     - if (c(noisily) & "`report'"=="") {c -(}
       = if (c(noisily) & ""=="") {c -(}
03     - local isupdate = ("`replace'"!="" | "`update'"!="")
       = local isupdate = (""!="" | ""!="")
03     - present_table `isupdate' `mergevar' `mergevaristemp'
       = present_table 0 _merge 0
         {hline 40} begin merge.present_table {hline}
04       - args isupdate mergevar mergevaristemp
04       - if (!`mergevaristemp') {c -(}
         = if (!0) {c -(}
04       - local v1 "(`mergevar'==1)"
         = local v1 "(_merge==1)"
04       - local v2 "(`mergevar'==2)"
         = local v2 "(_merge==2)"
04       - local v3 "(`mergevar'==3)"
         = local v3 "(_merge==3)"
04       - local v4 "(`mergevar'==4)"
         = local v4 "(_merge==4)"
04       - local v5 "(`mergevar'==5)"
         = local v5 "(_merge==5)"
04       - {c )-}
04       - quietly {c -(}
04       - count if `mergevar'==1
         = count if _merge==1
04       - local m1 = r(N)
04       - count if `mergevar'==2
         = count if _merge==2
04       - local m2 = r(N)
04       - if (`isupdate') {c -(}
         = if (0) {c -(}
04         count if `mergevar'==3
04         local m3 = r(N)
04         count if `mergevar'==4
04         local m4 = r(N)
04         local m5 = _N - `m1' - `m2' - `m3' - `m4'
04         {c )-}
04       - else {c -(}
04       - local m3 = _N - `m1' - `m2'
         = local m3 = _N - 154 - 9037
04       - {c )-}
04       - {c )-}
04       - di

04       - di as smcl as txt _col(5) "Result" _col(33) "Number of obs"
{col 5}Result{col 33}Number of obs
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
04       - di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (`m1'+`m2')
         = di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (154+9037)
{col 5}Not matched{col 30}{res}           9,191
{txt}04       - if (`m1'|`m2') {c -(}
         = if (154|9037) {c -(}
04       - di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc `m1' as txt "  `v1'"
         = di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc 154 as txt "  (_merge==1)"
{col 9}from master{col 30}{res}             154{txt}  (_merge==1)
04       - di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc `m2' as txt "  `v2'"
         = di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc 9037 as txt "  (_merge==2)"
{col 9}from using{col 30}{res}           9,037{txt}  (_merge==2)
04       - di

04       - {c )-}
04       - if (!`isupdate') {c -(}
         = if (!0) {c -(}
04       - di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc `m3' as txt "  `v3'"
         = di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc 1446 as txt "  (_merge==3)"
{col 5}Matched{col 30}{res}           1,446{txt}  (_merge==3)
04       - {c )-}
04       - else {c -(}
04         if (`m1'==0 & `m2'==0) {c -(}
04         di
04         {c )-}
04         di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc (`m3'+`m4'+`m5')
04         di as smcl as txt _col(9) "not updated" _col(30) as res %16.0fc `m3' as txt "  `v3'"
04         di as smcl as txt _col(9) "missing updated" _col(30) as res %16.0fc `m4' as txt "  `v4'"
04         di as smcl as txt _col(9) "nonmissing conflict" _col(30) as res %16.0fc `m5' as txt "  `v5'"
04         {c )-}
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
         {hline 42} end merge.present_table {hline}
03     - {c )-}
       {hline 58} end merge {hline}
02   - drop if _merge != 3
(9,191 observations deleted)
02   - drop _merge
02   - compress
  variable {bf}{res}gr9femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12femaleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12maleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr3blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr5blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12hispanicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svygr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svygr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
{txt}  (189,426 bytes saved)
02   - save $projdir/dta/demographics/elementary/elemdemo`i', replace
     = save /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1617, replace
{p 0 4 2}
file {bf}
/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1617.dta{rm}
saved
{p_end}
02   - {c )-}
02   - use $projdir/dta/demographics/temp/elementary/elem`i'temp, clear
     = use /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/temp/elementary/elem1718temp, clear
(2017-18 Elementary CHKS Data)
02   - gen byte female = 0
02   - replace female = 1 if sex == 1
(64,503 real changes made)
02   - gen byte male = 0
02   - replace male = 1 if sex == 2
(61,054 real changes made)
02   - gen byte gr3 = 0
02   - gen byte gr4 = 0
02   - gen byte gr5 = 0
02   - gen byte gr6 = 0
02   - replace gr3 = 1 if grade == 3
(2,342 real changes made)
02   - replace gr4 = 1 if grade == 4
(4,364 real changes made)
02   - replace gr5 = 1 if grade == 5
(120,198 real changes made)
02   - replace gr6 = 1 if grade == 6
(6,608 real changes made)
02   - gen byte femalegr3 = 0
02   - replace femalegr3 = 1 if female == 1 & gr3 == 1
(1,193 real changes made)
02   - gen byte femalegr4 = 0
02   - replace femalegr4 = 1 if female == 1 & gr4 == 1
(1,974 real changes made)
02   - gen byte femalegr5 = 0
02   - replace femalegr5 = 1 if female == 1 & gr5 == 1
(57,579 real changes made)
02   - gen byte femalegr6 = 0
02   - replace femalegr6 = 1 if female == 1 & gr6 == 1
(3,320 real changes made)
02   - gen byte malegr3 = 0
02   - replace malegr3 = 1 if male == 1 & gr3 == 1
(1,044 real changes made)
02   - gen byte malegr4 = 0
02   - replace malegr4 = 1 if male == 1 & gr4 == 1
(1,990 real changes made)
02   - gen byte malegr5 = 0
02   - replace malegr5 = 1 if male == 1 & gr5 == 1
(54,340 real changes made)
02   - gen byte malegr6 = 0
02   - replace malegr6 = 1 if male == 1 & gr6 == 1
(3,233 real changes made)
02   - collapse (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
       {hline 53} begin collapse {hline}
03     - version 8, missing
03     - if _caller() < 5 {c -(}
03       collaps4 `0'
03       exit
03       {c )-}
03     - collapse_17 `0'
       = collapse_17 (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
         {hline 48} begin collapse_17 {hline}
04       - syntax [anything(name=clist id=clist equalok)] [if] [in] [aw fw iw pw] [, BY(varlist) CW FAST CLABEL frame(name) GRAPHBAR(name) ]
04       - if ("`fast'"=="") preserve
         = if (""=="") preserve
04       - local clist: subinstr local clist "[]" "", all
04       - local 0 : subinstr local 0 "[]" "", all
04       - local n 0
04       - local stat = "mean"
04       - if `"`graphbar'"' != `""' & `"`clist'"'=="" & `"`by'"'!="" {c -(}
         = if `""' != `""' & `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'=="" & `"cdscode"'!="" {c -(}
04         local stat = "percent"
04         gen _percent = 1
04         label var _percent "percent"
04         local clist = "percent=_percent"
04         {c )-}
04       - local awnote 0
04       - local ct = 0
04       - local stable ""
04       - while `"`clist'"' != "" {c -(}
         = while `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' != "" {c -(}
04       - GetOpStat stat clist : "`stat'" `"`clist'"'
         = GetOpStat stat clist : "mean" `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - gettoken tok1 rest : clist , parse(" =.") bind
04       - gettoken tok2 rest2: rest, parse(" =.") bind
04       - if `"`stat'"' == "count" {c -(}
         = if `"sum"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04       - if "`tok2'" == "=" {c -(}
         = if "male" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04       - else {c -(}
04       - if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
         = if `""' != `""' & 1 == 1 & `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04       - GetVarlist vl clist : `"`clist'"'
         = GetVarlist vl clist : `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local i 0
04       - tsrevar `vl'
         = tsrevar female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6
04       - foreach el in `r(varlist)' {c -(}
         = foreach el in female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 {c -(}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female"'
04       - local tar `"`tar' `el'"'
         = local tar `" female"'
04       - local old`n' `el'
         = local old1 female
04       - local lab`n' "`realname'"
         = local lab1 "female"
04       - local fcn`n' `"`stat'"'
         = local fcn1 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new1 fmt1 : female female
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male"'
04       - local old`n' `el'
         = local old2 male
04       - local lab`n' "`realname'"
         = local lab2 "male"
04       - local fcn`n' `"`stat'"'
         = local fcn2 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new2 fmt2 : male male
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3"'
04       - local old`n' `el'
         = local old3 gr3
04       - local lab`n' "`realname'"
         = local lab3 "gr3"
04       - local fcn`n' `"`stat'"'
         = local fcn3 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new3 fmt3 : gr3 gr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4"'
04       - local old`n' `el'
         = local old4 gr4
04       - local lab`n' "`realname'"
         = local lab4 "gr4"
04       - local fcn`n' `"`stat'"'
         = local fcn4 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new4 fmt4 : gr4 gr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5"'
04       - local old`n' `el'
         = local old5 gr5
04       - local lab`n' "`realname'"
         = local lab5 "gr5"
04       - local fcn`n' `"`stat'"'
         = local fcn5 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new5 fmt5 : gr5 gr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6"'
04       - local old`n' `el'
         = local old6 gr6
04       - local lab`n' "`realname'"
         = local lab6 "gr6"
04       - local fcn`n' `"`stat'"'
         = local fcn6 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new6 fmt6 : gr6 gr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local old`n' `el'
         = local old7 femalegr3
04       - local lab`n' "`realname'"
         = local lab7 "femalegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn7 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new7 fmt7 : femalegr3 femalegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local old`n' `el'
         = local old8 femalegr4
04       - local lab`n' "`realname'"
         = local lab8 "femalegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn8 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new8 fmt8 : femalegr4 femalegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local old`n' `el'
         = local old9 femalegr5
04       - local lab`n' "`realname'"
         = local lab9 "femalegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn9 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new9 fmt9 : femalegr5 femalegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local old`n' `el'
         = local old10 femalegr6
04       - local lab`n' "`realname'"
         = local lab10 "femalegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn10 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new10 fmt10 : femalegr6 femalegr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local old`n' `el'
         = local old11 malegr3
04       - local lab`n' "`realname'"
         = local lab11 "malegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn11 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new11 fmt11 : malegr3 malegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local old`n' `el'
         = local old12 malegr4
04       - local lab`n' "`realname'"
         = local lab12 "malegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn12 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new12 fmt12 : malegr4 malegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local old`n' `el'
         = local old13 malegr5
04       - local lab`n' "`realname'"
         = local lab13 "malegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn13 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new13 fmt13 : malegr5 malegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local old`n' `el'
         = local old14 malegr6
04       - local lab`n' "`realname'"
         = local lab14 "malegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn14 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new14 fmt14 : malegr6 malegr6
04       - {c )-}
04       - {c )-}
04       - if "`stable'" == "" {c -(}
         = if "" == "" {c -(}
04       - if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
         = if "sum" == "first" | "sum" == "last" | "sum" == "firstnm" | "sum" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - while `"`clist'"' != "" {c -(}
         = while `""' != "" {c -(}
04         GetOpStat stat clist : "`stat'" `"`clist'"'
04         gettoken tok1 rest : clist , parse(" =.") bind
04         gettoken tok2 rest2: rest, parse(" =.") bind
04         if `"`stat'"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04         if "`tok2'" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04         else {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04         GetVarlist vl clist : `"`clist'"'
04         local i 0
04         tsrevar `vl'
04         foreach el in `r(varlist)' {c -(}
04         local ++n
04         gettoken realname vl : vl
04         local ++i
04         local keep `"`keep' `el'"'
04         local tar `"`tar' `el'"'
04         local old`n' `el'
04         local lab`n' "`realname'"
04         local fcn`n' `"`stat'"'
04         Setnf new`n' fmt`n' : `realname' `el'
04         {c )-}
04         {c )-}
04         if "`stable'" == "" {c -(}
04         if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04         {c )-}
04         {c )-}
04       - if (`n'==0) error 198
         = if (14==0) error 198
04       - if `"`by'"'!="" {c -(}
         = if `"cdscode"'!="" {c -(}
04       - bynottar `"`by'"' `"`tar'"'
         = bynottar `"cdscode"' `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - {c )-}
04       - if `"`weight'"' != "" {c -(}
         = if `""' != "" {c -(}
04         tempvar w
04         qui gen double `w' `exp' `if' `in'
04         local wgt `"[`weight'=`w']"'
04         {c )-}
04       - if "`if'`in'`wgt'" != "" {c -(}
         = if "" != "" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         if `"`cw'"'!="" {c -(}
04         markout `touse' `keep'
04         {c )-}
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - if `"`cw'"'!="" {c -(}
         = if `""'!="" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         markout `touse' `keep'
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - qui count
04       - if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - qui keep `keep' `by' `w'
         = qui keep  female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 cdscode 
04       - local i 1
04       - while `i' <= `n' {c -(}
         = while 1 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use1 `"__000000"'
04       - rename `old`i'' `use'
         = rename female __000000
04       - local lasti `i'
         = local lasti 1
04       - {c )-}
04       - local j=`i'+1
         = local j=1+1
04       - while `j'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"male"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"male"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp1 `"__000000"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 2 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use2 `"__000001"'
04       - rename `old`i'' `use'
         = rename male __000001
04       - local lasti `i'
         = local lasti 2
04       - {c )-}
04       - local j=`i'+1
         = local j=2+1
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp2 `"__000001"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 3 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use3 `"__000002"'
04       - rename `old`i'' `use'
         = rename gr3 __000002
04       - local lasti `i'
         = local lasti 3
04       - {c )-}
04       - local j=`i'+1
         = local j=3+1
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp3 `"__000002"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 4 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use4 `"__000003"'
04       - rename `old`i'' `use'
         = rename gr4 __000003
04       - local lasti `i'
         = local lasti 4
04       - {c )-}
04       - local j=`i'+1
         = local j=4+1
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp4 `"__000003"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 5 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use5 `"__000004"'
04       - rename `old`i'' `use'
         = rename gr5 __000004
04       - local lasti `i'
         = local lasti 5
04       - {c )-}
04       - local j=`i'+1
         = local j=5+1
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp5 `"__000004"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 6 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use6 `"__000005"'
04       - rename `old`i'' `use'
         = rename gr6 __000005
04       - local lasti `i'
         = local lasti 6
04       - {c )-}
04       - local j=`i'+1
         = local j=6+1
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp6 `"__000005"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 7 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use7 `"__000006"'
04       - rename `old`i'' `use'
         = rename femalegr3 __000006
04       - local lasti `i'
         = local lasti 7
04       - {c )-}
04       - local j=`i'+1
         = local j=7+1
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp7 `"__000006"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 8 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use8 `"__000007"'
04       - rename `old`i'' `use'
         = rename femalegr4 __000007
04       - local lasti `i'
         = local lasti 8
04       - {c )-}
04       - local j=`i'+1
         = local j=8+1
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp8 `"__000007"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 9 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use9 `"__000008"'
04       - rename `old`i'' `use'
         = rename femalegr5 __000008
04       - local lasti `i'
         = local lasti 9
04       - {c )-}
04       - local j=`i'+1
         = local j=9+1
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp9 `"__000008"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 10 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use10 `"__000009"'
04       - rename `old`i'' `use'
         = rename femalegr6 __000009
04       - local lasti `i'
         = local lasti 10
04       - {c )-}
04       - local j=`i'+1
         = local j=10+1
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp10 `"__000009"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 11 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use11 `"__00000A"'
04       - rename `old`i'' `use'
         = rename malegr3 __00000A
04       - local lasti `i'
         = local lasti 11
04       - {c )-}
04       - local j=`i'+1
         = local j=11+1
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp11 `"__00000A"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 12 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use12 `"__00000B"'
04       - rename `old`i'' `use'
         = rename malegr4 __00000B
04       - local lasti `i'
         = local lasti 12
04       - {c )-}
04       - local j=`i'+1
         = local j=12+1
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp12 `"__00000B"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 13 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use13 `"__00000C"'
04       - rename `old`i'' `use'
         = rename malegr5 __00000C
04       - local lasti `i'
         = local lasti 13
04       - {c )-}
04       - local j=`i'+1
         = local j=13+1
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp13 `"__00000C"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 14 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use14 `"__00000D"'
04       - rename `old`i'' `use'
         = rename malegr6 __00000D
04       - local lasti `i'
         = local lasti 14
04       - {c )-}
04       - local j=`i'+1
         = local j=14+1
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp14 `"__00000D"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 15 <= 14 {c -(}
04         if `"`drp`i''"'=="" {c -(}
04         tempname use
04         local use`i' `"`use'"'
04         rename `old`i'' `use'
04         local lasti `i'
04         {c )-}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04         if `"`drp`i''"'=="" {c -(}
04         local drp`lasti' `"`use'"'
04         {c )-}
04         local ++i
04         {c )-}
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         foreach i of local nameIndexList {c -(}
04         local new`i' `temp`i''
04         {c )-}
04         forvalues i = 1/`n' {c -(}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         forvalues idx = `j'/`=`n'-1' {c -(}
04         local idx2 = `idx' + 1
04         local new`idx' `new`idx2''
04         local fcn`idx' `fcn`idx2''
04         local lab`idx' `lab`idx2''
04         local fmt`idx' `fmt`idx2''
04         local use`idx' `use`idx2''
04         {c )-}
04         local --n
04         {c )-}
04         else {c -(}
04         local ++j
04         {c )-}
04         {c )-}
04         {c )-}
04         {c )-}
04       - cap mata: setup_collapse("`by'", "`weight'", "`w'")
         = cap mata: setup_collapse("cdscode", "", "")
04       - if _rc > 0 {c -(}
04         di as error "failed to setup collapse problem"
04         exit 198
04         {c )-}
04       - quietly {c -(}
04       - tempvar new
04       - tempname m_newvar_name_list
04       - tempname m_newvar_type_list
04       - tempname m_strvar_name_list
04       - mata: `m_newvar_name_list' = J(1, 0, "")
         = mata: __00000F = J(1, 0, "")
04       - mata: `m_newvar_type_list' = J(1, 0, "")
         = mata: __00000G = J(1, 0, "")
04       - mata: `m_strvar_name_list' = J(1, 0, "")
         = mata: __00000H = J(1, 0, "")
04       - local has_string_vars 0
04       - local string_var_list = ""
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("female", "__000000", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "female")
04       - local ty : type `use`i''
         = local ty : type __000000
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("male", "__000001", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "male")
04       - local ty : type `use`i''
         = local ty : type __000001
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr3", "__000002", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr3")
04       - local ty : type `use`i''
         = local ty : type __000002
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr4", "__000003", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr4")
04       - local ty : type `use`i''
         = local ty : type __000003
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr5", "__000004", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr5")
04       - local ty : type `use`i''
         = local ty : type __000004
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr6", "__000005", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr6")
04       - local ty : type `use`i''
         = local ty : type __000005
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr3", "__000006", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr3")
04       - local ty : type `use`i''
         = local ty : type __000006
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr4", "__000007", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr4")
04       - local ty : type `use`i''
         = local ty : type __000007
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr5", "__000008", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr5")
04       - local ty : type `use`i''
         = local ty : type __000008
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr6", "__000009", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr6")
04       - local ty : type `use`i''
         = local ty : type __000009
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr3", "__00000A", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr3")
04       - local ty : type `use`i''
         = local ty : type __00000A
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr4", "__00000B", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr4")
04       - local ty : type `use`i''
         = local ty : type __00000B
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr5", "__00000C", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr5")
04       - local ty : type `use`i''
         = local ty : type __00000C
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr6", "__00000D", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr6")
04       - local ty : type `use`i''
         = local ty : type __00000D
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if "`weight'" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04         cap {c -(}
04         mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
04         {c )-}
04         if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04         mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
04         local ty : type `use`i''
04         if bsubstr("`ty'", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04         else {c -(}
04         if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
04         local ty "double"
04         {c )-}
04         else if "_`fcn`i''" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04         else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04         else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
04         {c )-}
04         mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
04         local ++i
04         {c )-}
04       - {c )-}
04       - cap {c -(}
04       - mata: compute_collapse()
04       - {c )-}
04       - if _rc == 9901 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to compute"
04         exit 198
04         {c )-}
04       - if _rc > 0 {c -(}
04         local myrc _rc
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         error `myrc'
04         exit
04         {c )-}
04       - tempname newobs
04       - cap {c -(}
04       - mata: get_obsno_collapse("`newobs'")
         = mata: get_obsno_collapse("__00000I")
04       - {c )-}
04       - cap {c -(}
04       - local tframe = ""
04       - if "`has_string_vars'" == "1" {c -(}
         = if "0" == "1" {c -(}
04         tempname tframe
04         frame put `string_var_list', into(`tframe')
04         {c )-}
04       - if "`by'" == "" {c -(}
         = if "cdscode" == "" {c -(}
04         drop _all
04         set obs ``newobs''
04         {c )-}
04       - else {c -(}
04       - keep `by'
         = keep cdscode
04       - cap {c -(}
04       - mata: _collapse_clean_bys()
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to drop observations from by list"
04         exit 198
04         {c )-}
04       - {c )-}
04       - mata:get_from_collapse(`m_newvar_name_list', `m_newvar_type_list', `m_strvar_name_list', "`tframe'")
         = mata:get_from_collapse(__00000F, __00000G, __00000H, "")
04       - if "`by'" != "" {c -(}
         = if "cdscode" != "" {c -(}
04       - sort `by'
         = sort cdscode
04       - {c )-}
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to create new variable"
04         exit 198
04         {c )-}
04       - mata:clear_collapse()
{res}{txt}04       - mata: mata drop `m_newvar_name_list'
         = mata: mata drop __00000F
04       - mata: mata drop `m_newvar_type_list'
         = mata: mata drop __00000G
04       - mata: mata drop `m_strvar_name_list'
         = mata: mata drop __00000H
04       - quietly {c -(}
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "female" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "female" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var female `"(sum) female"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var female `"sum of female"'
04       - format `new`i'' `fmt`i''
         = format female %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "male" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "male" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var male `"(sum) male"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var male `"sum of male"'
04       - format `new`i'' `fmt`i''
         = format male %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr3 `"(sum) gr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr3 `"sum of gr3"'
04       - format `new`i'' `fmt`i''
         = format gr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr4 `"(sum) gr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr4 `"sum of gr4"'
04       - format `new`i'' `fmt`i''
         = format gr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr5 `"(sum) gr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr5 `"sum of gr5"'
04       - format `new`i'' `fmt`i''
         = format gr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr6 `"(sum) gr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr6 `"sum of gr6"'
04       - format `new`i'' `fmt`i''
         = format gr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr3 `"(sum) femalegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr3 `"sum of femalegr3"'
04       - format `new`i'' `fmt`i''
         = format femalegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr4 `"(sum) femalegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr4 `"sum of femalegr4"'
04       - format `new`i'' `fmt`i''
         = format femalegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr5 `"(sum) femalegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr5 `"sum of femalegr5"'
04       - format `new`i'' `fmt`i''
         = format femalegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr6 `"(sum) femalegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr6 `"sum of femalegr6"'
04       - format `new`i'' `fmt`i''
         = format femalegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr3 `"(sum) malegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr3 `"sum of malegr3"'
04       - format `new`i'' `fmt`i''
         = format malegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr4 `"(sum) malegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr4 `"sum of malegr4"'
04       - format `new`i'' `fmt`i''
         = format malegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr5 `"(sum) malegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr5 `"sum of malegr5"'
04       - format `new`i'' `fmt`i''
         = format malegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr6 `"(sum) malegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr6 `"sum of malegr6"'
04       - format `new`i'' `fmt`i''
         = format malegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04         else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04         else if "`clabel'"=="" {c -(}
04         label var `new`i'' `"(`fcn`i'') `lab`i''"'
04         {c )-}
04         else label var `new`i'' `"`fcn`i'' of `lab`i''"'
04         format `new`i'' `fmt`i''
04         local ++i
04         {c )-}
04       - {c )-}
04       - global S_FN
04       - global S_FNDATE
04       - if ("`fast'" == "") restore, not
         = if ("" == "") restore, not
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         forvalues i = 1/`n' {c -(}
04         local retVarList `retVarList' `new`i''
04         {c )-}
04         c_local col17_graphbar "`graphbar'"
04         c_local `graphbar' "`retVarList'"
04         {c )-}
04       - if `awnote' {c -(}
         = if 0 {c -(}
04         di as txt "(note: {c -(}bf:aweight{c )-}s not used to compute {c -(}bf:count{c )-}s)"
04         {c )-}
         {hline 50} end collapse_17 {hline}
03     - if "`col17_graphbar'" != "" {c -(}
       = if "" != "" {c -(}
03       c_local `col17_graphbar' "``col17_graphbar''"
03       {c )-}
       {hline 55} end collapse {hline}
02   - rename female svyfemale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemale "number of female students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemale "number of female students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename male svymale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymale "number of male students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymale "number of male students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename gr3 svygr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr4 svygr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr5 svygr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr6 svygr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svygr3 "number of students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr3 "number of students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr4 "number of students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr4 "number of students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr5 "number of students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr5 "number of students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr6 "number of students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr6 "number of students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename femalegr3 svyfemalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr4 svyfemalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr5 svyfemalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr6 svyfemalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemalegr3 "number of female students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr3 "number of female students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr4 "number of female students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr4 "number of female students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr5 "number of female students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr5 "number of female students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr6 "number of female students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr6 "number of female students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename malegr3 svymalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr4 svymalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr5 svymalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr6 svymalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymalegr3 "number of male students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr3 "number of male students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr4 "number of male students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr4 "number of male students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr5 "number of male students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr5 "number of male students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr6 "number of male students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr6 "number of male students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - drop if missing(cdscode)
(1 observation deleted)
02   - merge 1:1 cdscode using $projdir/dta/enrollment/schoollevel/enr`i'
     = merge 1:1 cdscode using /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1718
       {hline 56} begin merge {hline}
03     - version 11
03     - gettoken mtype 0 : 0, parse(" ,")
03     - if (!strpos("`mtype'", ":") & "`mtype'"!="") {c -(}
       = if (!strpos("1:1", ":") & "1:1"!="") {c -(}
03       if (_caller()>=11) {c -(}
03       di as smcl as txt "{c -(}p{c )-}"
03       di as smcl "(you are using old"
03       di as smcl "{c -(}bf:merge{c )-} syntax; see"
03       di as smcl "{c -(}bf:{c -(}help merge:[D] merge{c )-}{c )-} for new syntax)"
03       di as smcl "{c -(}p_end{c )-}"
03       {c )-}
03       merge_10 `mtype' `0'
03       exit
03       {c )-}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - gettoken token : 0, parse(" ,")
03     - if ("`token'"=="_n") {c -(}
       = if ("cdscode"=="_n") {c -(}
03       if ("`mtype'"!="1:1") {c -(}
03       error_seq_not11 "`mtype'" "`origmtype'"
03       {c )-}
03       gettoken token 0 : 0, parse(" ,")
03       local mtype "_n"
03       {c )-}
03     - syntax [varlist(default=none)] using/ [, ASSERT(string) DEBUG GENerate(name) FORCE KEEP(string) KEEPUSing(string) noLabels NOGENerate noNOTEs REPLACE noREPort SORTED UPDATE ]
03     - if ("`mtype'"!="_n") {c -(}
       = if ("1:1"!="_n") {c -(}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - if ("`varlist'"=="") {c -(}
       = if ("cdscode"=="") {c -(}
03       error_mat_varlist "`mtype'" "`origmtype'"
03       {c )-}
03     - {c )-}
03     - else {c -(}
03       if ("`mtype'"=="_n") {c -(}
03       if ("`varlist'"!="") {c -(}
03       error_seq_varlist
03       {c )-}
03       {c )-}
03       {c )-}
03     - mata: fullfilename("using", "usingfull", "using")
{res}{txt}03     - mata: resultlist("assert")
{res}{txt}03     - mata: resultlist("keep")
{res}{txt}03     - if ("`generate'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`nogenerate'"!="") {c -(}
03       di as smcl err "{c -(}p{c )-}"
03       di as smcl "options -generate()- and -nogenerate-"
03       di as smcl "may not be specified together."
03       di as smcl err "{c -(}p_end{c )-}"
03       {c )-}
03       confirm new var `generate'
03       {c )-}
03     - if ("`replace'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`update'"=="") {c -(}
03       error_replace
03       {c )-}
03       {c )-}
03     - if ("`sorted'"=="" & "`mtype'"!="_n") {c -(}
       = if (""=="" & "1:1"!="_n") {c -(}
03     - local sortedby : sortedby
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       sort `varlist'
03       {c )-}
03     - quietly describe using "`using'", varlist short
       = quietly describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1718.dta", varlist short
         {hline 51} begin describe {hline}
04       - version 9
04       - local version : di "version " string(_caller()) ":"
04       - syntax [anything] [using] [, SImple REPLACE *]
04       - if ("`replace'"!="") {c -(}
         = if (""!="") {c -(}
04         describe_mk `0'
04         return add
04         exit
04         {c )-}
04       - local varlist `"`anything'"'
         = local varlist `""'
04       - if ("`simple'" == "") {c -(}
         = if ("" == "") {c -(}
04       - `version' _describe `0'
         = version 11: _describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1718.dta", varlist short
04       - return add
04       - {c )-}
04       - else {c -(}
04         if (`"`options'"' != "") {c -(}
04         di as err "simple may not be combined with other options"
04         exit 198
04         {c )-}
04         if (`"`using'"' != "") {c -(}
04         qui `version' describe `varlist' `using', varlist
04         if "`varlist'" == "" {c -(}
04         local vars "`r(varlist)'"
04         {c )-}
04         else {c -(}
04         local vars "`varlist'"
04         {c )-}
04         local wid = 2
04         local n : list sizeof vars
04         if `n'==0 {c -(}
04         exit
04         {c )-}
04         if "`c(hasicu)'" == "1" {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', udstrlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         else {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', strlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         local wid = `wid' + 2
04         local cols = int((`c(linesize)'+1)/`wid')
04         if `cols' < 2 {c -(}
04         foreach x of local `vars' {c -(}
04         di as txt `col' `"`x'"'
04         {c )-}
04         exit
04         {c )-}
04         local lines = `n'/`cols'
04         local lines = int(cond(`lines'>int(`lines'), `lines'+1, `lines'))
04         forvalues i=1(1)`lines' {c -(}
04         local top = min((`cols')*`lines'+`i', `n')
04         local col = 1
04         forvalues j=`i'(`lines')`top' {c -(}
04         local x : word `j' of `vars'
04         di as txt _column(`col') "`x'" _c
04         local col = `col' + `wid'
04         {c )-}
04         di as txt
04         {c )-}
04         qui `version' describe `varlist' `using', short
04         return add
04         {c )-}
04         else {c -(}
04         ds `varlist'
04         qui `version' _describe `varlist', short
04         return add
04         {c )-}
04         {c )-}
         {hline 53} end describe {hline}
03     - local sortedby "`r(sortlist)'"
       = local sortedby "cdscode"
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       preserve
03       qui use "`using'", clear
03       sort `varlist'
03       tempfile using
03       qui save "`using'", replace
03       restore
03       {c )-}
03     - {c )-}
03     - if ("`nogenerate'"!="") {c -(}
       = if (""!="") {c -(}
03       tempvar mergevar
03       local mergevaristemp 1
03       {c )-}
03     - else {c -(}
03     - local mergevar = cond("`generate'"!="", "`generate'", "_merge")
       = local mergevar = cond(""!="", "", "_merge")
03     - local mergevaristemp 0
03     - {c )-}
03     - local options `update' `replace' `notes' `labels' _merge(`mergevar') `force'
       = local options     _merge(_merge) 
03     - if (bsubstr("`mtype'", 1, 1)=="1") {c -(}
       = if (bsubstr("1:1", 1, 1)=="1") {c -(}
03     - local options `options' uniqmaster
       = local options _merge(_merge) uniqmaster
03     - {c )-}
03     - if (bsubstr("`mtype'", 3, 1)=="1") {c -(}
       = if (bsubstr("1:1", 3, 1)=="1") {c -(}
03     - local options `options' uniqusing
       = local options _merge(_merge) uniqmaster uniqusing
03     - {c )-}
03     - if ("`keepusing'"!="") {c -(}
       = if (""!="") {c -(}
03       local options `options' keep(`keepusing')
03       {c )-}
03     - if ("`keep'" !="" & !strpos("`keep'" , "2")) {c -(}
       = if ("" !="" & !strpos("" , "2")) {c -(}
03       local options `options' nokeep
03       {c )-}
03     - if (_caller() > 15) {c -(}
03     - local version : di "version " string(_caller()) ": "
03     - {c )-}
03     - local _merge `"`version'_merge `varlist' using "`using'", nowarn"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1718.dta", nowarn"'
03     - local _merge `"`_merge' `options' tabulate(mresults)"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1718.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)"'
03     - if ("`debug'"!="") {c -(}
       = if (""!="") {c -(}
03       di as txt _n "command is"
03       di `"`_merge'"' _n
03       {c )-}
03     - `_merge'
       = version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1718.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)
03     - if (!`mergevaristemp') {c -(}
       = if (!0) {c -(}
03     - capture label list _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("list", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label list _merge
04         {c )-}
         {hline 56} end label {hline}
03     - if (_rc) {c -(}
03     - label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("define", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - label values `mergevar' _merge
       = label values _merge _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("values", "val") > 0 ) {c -(}
04       - gettoken val 0 : 0
04       - syntax anything [, nofix]
04       - if "`fix'" != "" {c -(}
         = if "" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04       - gettoken var rest : anything
04       - while `"`rest'"' != "" {c -(}
         = while `" _merge"' != "" {c -(}
04       - gettoken lab rest : rest
04       - local label "`lab'"
         = local label "_merge"
04       - {c )-}
04       - while `"`rest'"' != "" {c -(}
         = while `""' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04       - local vlist : list anything - lab
04       - if "`lab'" == "." {c -(}
         = if "_merge" == "." {c -(}
04         local lab ""
04         {c )-}
04       - foreach var of varlist `vlist' {c -(}
         = foreach var of varlist _merge {c -(}
04       - `vv' _label `val' `var' `lab' `fix'
         = version 11, missing: _label values _merge _merge 
04       - {c )-}
04       - {c )-}
04       - else {c -(}
04         `vv' _label `macval(0)'
04         {c )-}
         {hline 56} end label {hline}
03     - label variable `mergevar' "Matching result from merge"
       = label variable _merge "Matching result from merge"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("variable", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label variable _merge "Matching result from merge"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - if ("`assert'"!="") {c -(}
       = if (""!="") {c -(}
03       if (_caller() < 13) {c -(}
03       buildexpr expr : `mergevar' "`assert'"
03       capture assert `expr'
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       else {c -(}
03       capture checkmresults "`mresults'" "`assert'"
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       {c )-}
03     - if ("`keep'"!="") {c -(}
       = if (""!="") {c -(}
03       buildexpr expr : `mergevar' "`keep'"
03       quietly keep if `expr'
03       {c )-}
03     - if ("`mtype'"=="1:1") {c -(}
       = if ("1:1"=="1:1") {c -(}
03     - qui count if `mergevar'==2
       = qui count if _merge==2
03     - if (r(N)==0) {c -(}
03       sort `varlist'
03       {c )-}
03     - {c )-}
03     - if (c(noisily) & "`report'"=="") {c -(}
       = if (c(noisily) & ""=="") {c -(}
03     - local isupdate = ("`replace'"!="" | "`update'"!="")
       = local isupdate = (""!="" | ""!="")
03     - present_table `isupdate' `mergevar' `mergevaristemp'
       = present_table 0 _merge 0
         {hline 40} begin merge.present_table {hline}
04       - args isupdate mergevar mergevaristemp
04       - if (!`mergevaristemp') {c -(}
         = if (!0) {c -(}
04       - local v1 "(`mergevar'==1)"
         = local v1 "(_merge==1)"
04       - local v2 "(`mergevar'==2)"
         = local v2 "(_merge==2)"
04       - local v3 "(`mergevar'==3)"
         = local v3 "(_merge==3)"
04       - local v4 "(`mergevar'==4)"
         = local v4 "(_merge==4)"
04       - local v5 "(`mergevar'==5)"
         = local v5 "(_merge==5)"
04       - {c )-}
04       - quietly {c -(}
04       - count if `mergevar'==1
         = count if _merge==1
04       - local m1 = r(N)
04       - count if `mergevar'==2
         = count if _merge==2
04       - local m2 = r(N)
04       - if (`isupdate') {c -(}
         = if (0) {c -(}
04         count if `mergevar'==3
04         local m3 = r(N)
04         count if `mergevar'==4
04         local m4 = r(N)
04         local m5 = _N - `m1' - `m2' - `m3' - `m4'
04         {c )-}
04       - else {c -(}
04       - local m3 = _N - `m1' - `m2'
         = local m3 = _N - 292 - 8373
04       - {c )-}
04       - {c )-}
04       - di

04       - di as smcl as txt _col(5) "Result" _col(33) "Number of obs"
{col 5}Result{col 33}Number of obs
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
04       - di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (`m1'+`m2')
         = di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (292+8373)
{col 5}Not matched{col 30}{res}           8,665
{txt}04       - if (`m1'|`m2') {c -(}
         = if (292|8373) {c -(}
04       - di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc `m1' as txt "  `v1'"
         = di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc 292 as txt "  (_merge==1)"
{col 9}from master{col 30}{res}             292{txt}  (_merge==1)
04       - di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc `m2' as txt "  `v2'"
         = di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc 8373 as txt "  (_merge==2)"
{col 9}from using{col 30}{res}           8,373{txt}  (_merge==2)
04       - di

04       - {c )-}
04       - if (!`isupdate') {c -(}
         = if (!0) {c -(}
04       - di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc `m3' as txt "  `v3'"
         = di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc 2102 as txt "  (_merge==3)"
{col 5}Matched{col 30}{res}           2,102{txt}  (_merge==3)
04       - {c )-}
04       - else {c -(}
04         if (`m1'==0 & `m2'==0) {c -(}
04         di
04         {c )-}
04         di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc (`m3'+`m4'+`m5')
04         di as smcl as txt _col(9) "not updated" _col(30) as res %16.0fc `m3' as txt "  `v3'"
04         di as smcl as txt _col(9) "missing updated" _col(30) as res %16.0fc `m4' as txt "  `v4'"
04         di as smcl as txt _col(9) "nonmissing conflict" _col(30) as res %16.0fc `m5' as txt "  `v5'"
04         {c )-}
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
         {hline 42} end merge.present_table {hline}
03     - {c )-}
       {hline 58} end merge {hline}
02   - drop if _merge != 3
(8,665 observations deleted)
02   - drop _merge
02   - compress
  variable {bf}{res}gr10maleenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr1blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr3blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svygr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
{txt}  (264,852 bytes saved)
02   - save $projdir/dta/demographics/elementary/elemdemo`i', replace
     = save /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1718, replace
{p 0 4 2}
file {bf}
/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1718.dta{rm}
saved
{p_end}
02   - {c )-}
02   - use $projdir/dta/demographics/temp/elementary/elem`i'temp, clear
     = use /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/temp/elementary/elem1819temp, clear
(2018-19 Elementary CHKS Data)
02   - gen byte female = 0
02   - replace female = 1 if sex == 1
(47,667 real changes made)
02   - gen byte male = 0
02   - replace male = 1 if sex == 2
(45,223 real changes made)
02   - gen byte gr3 = 0
02   - gen byte gr4 = 0
02   - gen byte gr5 = 0
02   - gen byte gr6 = 0
02   - replace gr3 = 1 if grade == 3
(1,308 real changes made)
02   - replace gr4 = 1 if grade == 4
(2,803 real changes made)
02   - replace gr5 = 1 if grade == 5
(93,564 real changes made)
02   - replace gr6 = 1 if grade == 6
(3,815 real changes made)
02   - gen byte femalegr3 = 0
02   - replace femalegr3 = 1 if female == 1 & gr3 == 1
(657 real changes made)
02   - gen byte femalegr4 = 0
02   - replace femalegr4 = 1 if female == 1 & gr4 == 1
(1,214 real changes made)
02   - gen byte femalegr5 = 0
02   - replace femalegr5 = 1 if female == 1 & gr5 == 1
(43,813 real changes made)
02   - gen byte femalegr6 = 0
02   - replace femalegr6 = 1 if female == 1 & gr6 == 1
(1,970 real changes made)
02   - gen byte malegr3 = 0
02   - replace malegr3 = 1 if male == 1 & gr3 == 1
(631 real changes made)
02   - gen byte malegr4 = 0
02   - replace malegr4 = 1 if male == 1 & gr4 == 1
(1,195 real changes made)
02   - gen byte malegr5 = 0
02   - replace malegr5 = 1 if male == 1 & gr5 == 1
(41,577 real changes made)
02   - gen byte malegr6 = 0
02   - replace malegr6 = 1 if male == 1 & gr6 == 1
(1,814 real changes made)
02   - collapse (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
       {hline 53} begin collapse {hline}
03     - version 8, missing
03     - if _caller() < 5 {c -(}
03       collaps4 `0'
03       exit
03       {c )-}
03     - collapse_17 `0'
       = collapse_17 (sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6, by(cdscode)
         {hline 48} begin collapse_17 {hline}
04       - syntax [anything(name=clist id=clist equalok)] [if] [in] [aw fw iw pw] [, BY(varlist) CW FAST CLABEL frame(name) GRAPHBAR(name) ]
04       - if ("`fast'"=="") preserve
         = if (""=="") preserve
04       - local clist: subinstr local clist "[]" "", all
04       - local 0 : subinstr local 0 "[]" "", all
04       - local n 0
04       - local stat = "mean"
04       - if `"`graphbar'"' != `""' & `"`clist'"'=="" & `"`by'"'!="" {c -(}
         = if `""' != `""' & `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'=="" & `"cdscode"'!="" {c -(}
04         local stat = "percent"
04         gen _percent = 1
04         label var _percent "percent"
04         local clist = "percent=_percent"
04         {c )-}
04       - local awnote 0
04       - local ct = 0
04       - local stable ""
04       - while `"`clist'"' != "" {c -(}
         = while `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' != "" {c -(}
04       - GetOpStat stat clist : "`stat'" `"`clist'"'
         = GetOpStat stat clist : "mean" `"(sum) female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - gettoken tok1 rest : clist , parse(" =.") bind
04       - gettoken tok2 rest2: rest, parse(" =.") bind
04       - if `"`stat'"' == "count" {c -(}
         = if `"sum"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04       - if "`tok2'" == "=" {c -(}
         = if "male" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04       - else {c -(}
04       - if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
         = if `""' != `""' & 1 == 1 & `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04       - GetVarlist vl clist : `"`clist'"'
         = GetVarlist vl clist : `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local i 0
04       - tsrevar `vl'
         = tsrevar female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6
04       - foreach el in `r(varlist)' {c -(}
         = foreach el in female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 {c -(}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female"'
04       - local tar `"`tar' `el'"'
         = local tar `" female"'
04       - local old`n' `el'
         = local old1 female
04       - local lab`n' "`realname'"
         = local lab1 "female"
04       - local fcn`n' `"`stat'"'
         = local fcn1 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new1 fmt1 : female female
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male"'
04       - local old`n' `el'
         = local old2 male
04       - local lab`n' "`realname'"
         = local lab2 "male"
04       - local fcn`n' `"`stat'"'
         = local fcn2 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new2 fmt2 : male male
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3"'
04       - local old`n' `el'
         = local old3 gr3
04       - local lab`n' "`realname'"
         = local lab3 "gr3"
04       - local fcn`n' `"`stat'"'
         = local fcn3 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new3 fmt3 : gr3 gr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4"'
04       - local old`n' `el'
         = local old4 gr4
04       - local lab`n' "`realname'"
         = local lab4 "gr4"
04       - local fcn`n' `"`stat'"'
         = local fcn4 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new4 fmt4 : gr4 gr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5"'
04       - local old`n' `el'
         = local old5 gr5
04       - local lab`n' "`realname'"
         = local lab5 "gr5"
04       - local fcn`n' `"`stat'"'
         = local fcn5 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new5 fmt5 : gr5 gr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6"'
04       - local old`n' `el'
         = local old6 gr6
04       - local lab`n' "`realname'"
         = local lab6 "gr6"
04       - local fcn`n' `"`stat'"'
         = local fcn6 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new6 fmt6 : gr6 gr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3"'
04       - local old`n' `el'
         = local old7 femalegr3
04       - local lab`n' "`realname'"
         = local lab7 "femalegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn7 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new7 fmt7 : femalegr3 femalegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4"'
04       - local old`n' `el'
         = local old8 femalegr4
04       - local lab`n' "`realname'"
         = local lab8 "femalegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn8 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new8 fmt8 : femalegr4 femalegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5"'
04       - local old`n' `el'
         = local old9 femalegr5
04       - local lab`n' "`realname'"
         = local lab9 "femalegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn9 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new9 fmt9 : femalegr5 femalegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6"'
04       - local old`n' `el'
         = local old10 femalegr6
04       - local lab`n' "`realname'"
         = local lab10 "femalegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn10 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new10 fmt10 : femalegr6 femalegr6
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3"'
04       - local old`n' `el'
         = local old11 malegr3
04       - local lab`n' "`realname'"
         = local lab11 "malegr3"
04       - local fcn`n' `"`stat'"'
         = local fcn11 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new11 fmt11 : malegr3 malegr3
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4"'
04       - local old`n' `el'
         = local old12 malegr4
04       - local lab`n' "`realname'"
         = local lab12 "malegr4"
04       - local fcn`n' `"`stat'"'
         = local fcn12 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new12 fmt12 : malegr4 malegr4
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5"'
04       - local old`n' `el'
         = local old13 malegr5
04       - local lab`n' "`realname'"
         = local lab13 "malegr5"
04       - local fcn`n' `"`stat'"'
         = local fcn13 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new13 fmt13 : malegr5 malegr5
04       - {c )-}
04       - local ++n
04       - gettoken realname vl : vl
04       - local ++i
04       - local keep `"`keep' `el'"'
         = local keep `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local tar `"`tar' `el'"'
         = local tar `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - local old`n' `el'
         = local old14 malegr6
04       - local lab`n' "`realname'"
         = local lab14 "malegr6"
04       - local fcn`n' `"`stat'"'
         = local fcn14 `"sum"'
04       - Setnf new`n' fmt`n' : `realname' `el'
         = Setnf new14 fmt14 : malegr6 malegr6
04       - {c )-}
04       - {c )-}
04       - if "`stable'" == "" {c -(}
         = if "" == "" {c -(}
04       - if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
         = if "sum" == "first" | "sum" == "last" | "sum" == "firstnm" | "sum" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - while `"`clist'"' != "" {c -(}
         = while `""' != "" {c -(}
04         GetOpStat stat clist : "`stat'" `"`clist'"'
04         gettoken tok1 rest : clist , parse(" =.") bind
04         gettoken tok2 rest2: rest, parse(" =.") bind
04         if `"`stat'"' == "count" {c -(}
04         if `"`weight'"' == "aweight" {c -(}
04         local awnote 1
04         {c )-}
04         {c )-}
04         if "`tok2'" == "=" {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`rest2'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist `"`clist'_percent"'
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist `"`clist'_freq"'
04         {c )-}
04         {c )-}
04         GetNewnameEq lhs rhs clist : `"`clist'"'
04         local ++n
04         tsrevar `rhs'
04         local tname `r(varlist)'
04         local keep `"`keep' `tname'"'
04         local tar `"`tar' `lhs'"'
04         local old`n' `"`tname'"'
04         local lab`n' `"`rhs'"'
04         local fcn`n' `"`stat'"'
04         local new`n' `"`lhs'"'
04         local fmt`n' : format `tname'
04         {c )-}
04         else {c -(}
04         if `"`graphbar'"' != `""' & `++ct' == 1 & `"`clist'"' == `""' {c -(}
04         if `"`stat'"' == "percent" {c -(}
04         gen _percent = 1
04         label var _percent "percent"
04         local clist "_percent"
04         {c )-}
04         if `"`stat'"' == "count" {c -(}
04         gen _freq = 1
04         label var _freq "frequency"
04         local clist "_freq"
04         {c )-}
04         {c )-}
04         GetVarlist vl clist : `"`clist'"'
04         local i 0
04         tsrevar `vl'
04         foreach el in `r(varlist)' {c -(}
04         local ++n
04         gettoken realname vl : vl
04         local ++i
04         local keep `"`keep' `el'"'
04         local tar `"`tar' `el'"'
04         local old`n' `el'
04         local lab`n' "`realname'"
04         local fcn`n' `"`stat'"'
04         Setnf new`n' fmt`n' : `realname' `el'
04         {c )-}
04         {c )-}
04         if "`stable'" == "" {c -(}
04         if "`fcn`n''" == "first" | "`fcn`n''" == "last" | "`fcn`n''" == "firstnm" | "`fcn`n''" == "lastnm" {c -(}
04         local stable ",stable"
04         {c )-}
04         {c )-}
04         {c )-}
04       - if (`n'==0) error 198
         = if (14==0) error 198
04       - if `"`by'"'!="" {c -(}
         = if `"cdscode"'!="" {c -(}
04       - bynottar `"`by'"' `"`tar'"'
         = bynottar `"cdscode"' `" female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6"'
04       - {c )-}
04       - if `"`weight'"' != "" {c -(}
         = if `""' != "" {c -(}
04         tempvar w
04         qui gen double `w' `exp' `if' `in'
04         local wgt `"[`weight'=`w']"'
04         {c )-}
04       - if "`if'`in'`wgt'" != "" {c -(}
         = if "" != "" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         if `"`cw'"'!="" {c -(}
04         markout `touse' `keep'
04         {c )-}
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - if `"`cw'"'!="" {c -(}
         = if `""'!="" {c -(}
04         tempvar touse
04         mark `touse' `if' `in' `wgt'
04         markout `touse' `keep'
04         qui count if `touse'
04         if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04         qui keep if `touse'
04         {c )-}
04       - else {c -(}
04       - qui count
04       - if r(N)==0 {c -(}
04         error 2000
04         {c )-}
04       - {c )-}
04       - {c )-}
04       - qui keep `keep' `by' `w'
         = qui keep  female male gr3 gr4 gr5 gr6 femalegr3 femalegr4 femalegr5 femalegr6 malegr3 malegr4 malegr5 malegr6 cdscode 
04       - local i 1
04       - while `i' <= `n' {c -(}
         = while 1 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use1 `"__000000"'
04       - rename `old`i'' `use'
         = rename female __000000
04       - local lasti `i'
         = local lasti 1
04       - {c )-}
04       - local j=`i'+1
         = local j=1+1
04       - while `j'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"male"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"male"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"female"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"female"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp1 `"__000000"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 2 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use2 `"__000001"'
04       - rename `old`i'' `use'
         = rename male __000001
04       - local lasti `i'
         = local lasti 2
04       - {c )-}
04       - local j=`i'+1
         = local j=2+1
04       - while `j'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"male"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"male"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp2 `"__000001"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 3 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use3 `"__000002"'
04       - rename `old`i'' `use'
         = rename gr3 __000002
04       - local lasti `i'
         = local lasti 3
04       - {c )-}
04       - local j=`i'+1
         = local j=3+1
04       - while `j'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp3 `"__000002"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 4 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use4 `"__000003"'
04       - rename `old`i'' `use'
         = rename gr4 __000003
04       - local lasti `i'
         = local lasti 4
04       - {c )-}
04       - local j=`i'+1
         = local j=4+1
04       - while `j'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp4 `"__000003"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 5 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use5 `"__000004"'
04       - rename `old`i'' `use'
         = rename gr5 __000004
04       - local lasti `i'
         = local lasti 5
04       - {c )-}
04       - local j=`i'+1
         = local j=5+1
04       - while `j'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"gr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"gr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp5 `"__000004"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 6 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use6 `"__000005"'
04       - rename `old`i'' `use'
         = rename gr6 __000005
04       - local lasti `i'
         = local lasti 6
04       - {c )-}
04       - local j=`i'+1
         = local j=6+1
04       - while `j'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"gr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"gr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp6 `"__000005"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 7 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use7 `"__000006"'
04       - rename `old`i'' `use'
         = rename femalegr3 __000006
04       - local lasti `i'
         = local lasti 7
04       - {c )-}
04       - local j=`i'+1
         = local j=7+1
04       - while `j'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp7 `"__000006"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 8 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use8 `"__000007"'
04       - rename `old`i'' `use'
         = rename femalegr4 __000007
04       - local lasti `i'
         = local lasti 8
04       - {c )-}
04       - local j=`i'+1
         = local j=8+1
04       - while `j'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp8 `"__000007"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 9 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use9 `"__000008"'
04       - rename `old`i'' `use'
         = rename femalegr5 __000008
04       - local lasti `i'
         = local lasti 9
04       - {c )-}
04       - local j=`i'+1
         = local j=9+1
04       - while `j'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"femalegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"femalegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp9 `"__000008"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 10 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use10 `"__000009"'
04       - rename `old`i'' `use'
         = rename femalegr6 __000009
04       - local lasti `i'
         = local lasti 10
04       - {c )-}
04       - local j=`i'+1
         = local j=10+1
04       - while `j'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr3"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr3"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"femalegr6"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"femalegr6"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp10 `"__000009"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 11 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use11 `"__00000A"'
04       - rename `old`i'' `use'
         = rename malegr3 __00000A
04       - local lasti `i'
         = local lasti 11
04       - {c )-}
04       - local j=`i'+1
         = local j=11+1
04       - while `j'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr4"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr4"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr3"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr3"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp11 `"__00000A"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 12 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use12 `"__00000B"'
04       - rename `old`i'' `use'
         = rename malegr4 __00000B
04       - local lasti `i'
         = local lasti 12
04       - {c )-}
04       - local j=`i'+1
         = local j=12+1
04       - while `j'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr5"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr5"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr4"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr4"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp12 `"__00000B"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 13 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use13 `"__00000C"'
04       - rename `old`i'' `use'
         = rename malegr5 __00000C
04       - local lasti `i'
         = local lasti 13
04       - {c )-}
04       - local j=`i'+1
         = local j=13+1
04       - while `j'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`new`i''"' == `"`new`j''"' {c -(}
         = if `"malegr5"' == `"malegr6"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04       - if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
         = if `""'=="" & `"malegr5"' == `"malegr6"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04       - local ++j
04       - {c )-}
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp13 `"__00000C"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 14 <= 14 {c -(}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - tempname use
04       - local use`i' `"`use'"'
         = local use14 `"__00000D"'
04       - rename `old`i'' `use'
         = rename malegr6 __00000D
04       - local lasti `i'
         = local lasti 14
04       - {c )-}
04       - local j=`i'+1
         = local j=14+1
04       - while `j'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04       - if `"`drp`i''"'=="" {c -(}
         = if `""'=="" {c -(}
04       - local drp`lasti' `"`use'"'
         = local drp14 `"__00000D"'
04       - {c )-}
04       - local ++i
04       - {c )-}
04       - while `i' <= `n' {c -(}
         = while 15 <= 14 {c -(}
04         if `"`drp`i''"'=="" {c -(}
04         tempname use
04         local use`i' `"`use'"'
04         rename `old`i'' `use'
04         local lasti `i'
04         {c )-}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         if "`graphbar'" != "" {c -(}
04         Graphbar_makename "`new`i''" "`fcn`i''" `i'
04         local temp`i' `s(temp)'
04         Graphbar_makename "`new`j''" "`fcn`j''" `j'
04         local temp`j' `s(temp)'
04         local nameIndexList "`nameIndexList' `i' `j'"
04         {c )-}
04         else {c -(}
04         di as err "error:" _n _col(8) `"`new`i'' = (`fcn`i'') `lab`i''"' _n _col(8) `"`new`j'' = (`fcn`j'') `lab`j''"' _n "name conflict"
04         exit 198
04         {c )-}
04         {c )-}
04         if `"`drp`i''"'=="" & `"`old`i''"' == `"`old`j''"' {c -(}
04         local lasti `j'
04         local use`j' `"`use'"'
04         local drp`j' `" "'
04         {c )-}
04         local ++j
04         {c )-}
04         if `"`drp`i''"'=="" {c -(}
04         local drp`lasti' `"`use'"'
04         {c )-}
04         local ++i
04         {c )-}
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         foreach i of local nameIndexList {c -(}
04         local new`i' `temp`i''
04         {c )-}
04         forvalues i = 1/`n' {c -(}
04         local j=`i'+1
04         while `j'<=`n' {c -(}
04         if `"`new`i''"' == `"`new`j''"' {c -(}
04         forvalues idx = `j'/`=`n'-1' {c -(}
04         local idx2 = `idx' + 1
04         local new`idx' `new`idx2''
04         local fcn`idx' `fcn`idx2''
04         local lab`idx' `lab`idx2''
04         local fmt`idx' `fmt`idx2''
04         local use`idx' `use`idx2''
04         {c )-}
04         local --n
04         {c )-}
04         else {c -(}
04         local ++j
04         {c )-}
04         {c )-}
04         {c )-}
04         {c )-}
04       - cap mata: setup_collapse("`by'", "`weight'", "`w'")
         = cap mata: setup_collapse("cdscode", "", "")
04       - if _rc > 0 {c -(}
04         di as error "failed to setup collapse problem"
04         exit 198
04         {c )-}
04       - quietly {c -(}
04       - tempvar new
04       - tempname m_newvar_name_list
04       - tempname m_newvar_type_list
04       - tempname m_strvar_name_list
04       - mata: `m_newvar_name_list' = J(1, 0, "")
         = mata: __00000F = J(1, 0, "")
04       - mata: `m_newvar_type_list' = J(1, 0, "")
         = mata: __00000G = J(1, 0, "")
04       - mata: `m_strvar_name_list' = J(1, 0, "")
         = mata: __00000H = J(1, 0, "")
04       - local has_string_vars 0
04       - local string_var_list = ""
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("female", "__000000", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "female")
04       - local ty : type `use`i''
         = local ty : type __000000
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("male", "__000001", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "male")
04       - local ty : type `use`i''
         = local ty : type __000001
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr3", "__000002", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr3")
04       - local ty : type `use`i''
         = local ty : type __000002
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr4", "__000003", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr4")
04       - local ty : type `use`i''
         = local ty : type __000003
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr5", "__000004", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr5")
04       - local ty : type `use`i''
         = local ty : type __000004
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("gr6", "__000005", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "gr6")
04       - local ty : type `use`i''
         = local ty : type __000005
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr3", "__000006", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr3")
04       - local ty : type `use`i''
         = local ty : type __000006
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr4", "__000007", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr4")
04       - local ty : type `use`i''
         = local ty : type __000007
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr5", "__000008", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr5")
04       - local ty : type `use`i''
         = local ty : type __000008
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("femalegr6", "__000009", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "femalegr6")
04       - local ty : type `use`i''
         = local ty : type __000009
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr3", "__00000A", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr3")
04       - local ty : type `use`i''
         = local ty : type __00000A
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr4", "__00000B", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr4")
04       - local ty : type `use`i''
         = local ty : type __00000B
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr5", "__00000C", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr5")
04       - local ty : type `use`i''
         = local ty : type __00000C
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if "`weight'" != "" {c -(}
         = if "" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04       - cap {c -(}
04       - mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
         = mata: add_collapse("malegr6", "__00000D", "_sum")
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04       - mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
         = mata: __00000F = (__00000F, "malegr6")
04       - local ty : type `use`i''
         = local ty : type __00000D
04       - if bsubstr("`ty'", 1, 3) == "str" {c -(}
         = if bsubstr("byte", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04       - else {c -(}
04       - if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
         = if "_sum" == "_sum" | "_sum" == "_rawsum" | "_sum" == "_percent"{c -(}
04       - local ty "double"
04       - {c )-}
04       - else if "_`fcn`i''" == "_count" {c -(}
         = else if "_sum" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04       - else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
         = else if "_sum" == "_max" | "_sum" == "_min" | "_sum" == "_first" | "_sum" == "_last" | "_sum" == "_firstnm" | "_sum" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04       - else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04       - mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
         = mata: __00000H = (__00000H, "")
04       - {c )-}
04       - mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
         = mata: __00000G = (__00000G, "double")
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if "`weight'" != "" {c -(}
04         CheckWeight `"`fcn`i''"' `weight'
04         {c )-}
04         cap {c -(}
04         mata: add_collapse("`new`i''", "`use`i''", "_`fcn`i''")
04         {c )-}
04         if _rc > 0 {c -(}
04         mata:clear_collapse()
04         di as error "failed to add variable"
04         exit 198
04         {c )-}
04         mata: `m_newvar_name_list' = (`m_newvar_name_list', "`new`i''")
04         local ty : type `use`i''
04         if bsubstr("`ty'", 1, 3) == "str" {c -(}
04         if inlist("`fcn`i''", "first", "last", "firstnm", "lastnm") != 1 {c -(}
04         mata:clear_collapse()
04         di as error "string variable {c -(}bf:`old`i''{c )-} not allowed with statistic {c -(}bf:`fcn`i''{c )-}"
04         exit 109
04         {c )-}
04         local has_string_vars 1
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "`use`i''")
04         local string_var_list = "`string_var_list' `use`i''"
04         {c )-}
04         else {c -(}
04         if "_`fcn`i''" == "_sum" | "_`fcn`i''" == "_rawsum" | "_`fcn`i''" == "_percent"{c -(}
04         local ty "double"
04         {c )-}
04         else if "_`fcn`i''" == "_count" {c -(}
04         if "`weight'" == "fweight" | "`weight'"=="iweight" | "`wt'"=="weight" {c -(}
04         local ty "double"
04         {c )-}
04         else {c -(}
04         local ty "long"
04         {c )-}
04         {c )-}
04         else if "_`fcn`i''" == "_max" | "_`fcn`i''" == "_min" | "_`fcn`i''" == "_first" | "_`fcn`i''" == "_last" | "_`fcn`i''" == "_firstnm" | "_`fcn`i''" == "_lastnm" {c -(}
04         local ty : type `use`i''
04         {c )-}
04         else {c -(}
04         if (`"`ty'"'=="double" | `"`ty'"'=="long") local ty "double"
04         else local ty "`c(type)'"
04         {c )-}
04         mata: `m_strvar_name_list' = (`m_strvar_name_list', "")
04         {c )-}
04         mata: `m_newvar_type_list' = (`m_newvar_type_list', "`ty'")
04         local ++i
04         {c )-}
04       - {c )-}
04       - cap {c -(}
04       - mata: compute_collapse()
04       - {c )-}
04       - if _rc == 9901 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to compute"
04         exit 198
04         {c )-}
04       - if _rc > 0 {c -(}
04         local myrc _rc
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         error `myrc'
04         exit
04         {c )-}
04       - tempname newobs
04       - cap {c -(}
04       - mata: get_obsno_collapse("`newobs'")
         = mata: get_obsno_collapse("__00000I")
04       - {c )-}
04       - cap {c -(}
04       - local tframe = ""
04       - if "`has_string_vars'" == "1" {c -(}
         = if "0" == "1" {c -(}
04         tempname tframe
04         frame put `string_var_list', into(`tframe')
04         {c )-}
04       - if "`by'" == "" {c -(}
         = if "cdscode" == "" {c -(}
04         drop _all
04         set obs ``newobs''
04         {c )-}
04       - else {c -(}
04       - keep `by'
         = keep cdscode
04       - cap {c -(}
04       - mata: _collapse_clean_bys()
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to drop observations from by list"
04         exit 198
04         {c )-}
04       - {c )-}
04       - mata:get_from_collapse(`m_newvar_name_list', `m_newvar_type_list', `m_strvar_name_list', "`tframe'")
         = mata:get_from_collapse(__00000F, __00000G, __00000H, "")
04       - if "`by'" != "" {c -(}
         = if "cdscode" != "" {c -(}
04       - sort `by'
         = sort cdscode
04       - {c )-}
04       - {c )-}
04       - if _rc > 0 {c -(}
04         mata:clear_collapse()
04         mata: mata drop `m_newvar_name_list'
04         mata: mata drop `m_newvar_type_list'
04         mata: mata drop `m_strvar_name_list'
04         di as error "failed to create new variable"
04         exit 198
04         {c )-}
04       - mata:clear_collapse()
{res}{txt}04       - mata: mata drop `m_newvar_name_list'
         = mata: mata drop __00000F
04       - mata: mata drop `m_newvar_type_list'
         = mata: mata drop __00000G
04       - mata: mata drop `m_strvar_name_list'
         = mata: mata drop __00000H
04       - quietly {c -(}
04       - local i 1
04       - while `i'<=`n' {c -(}
         = while 1<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "female" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "female" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var female `"(sum) female"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var female `"sum of female"'
04       - format `new`i'' `fmt`i''
         = format female %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 2<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "male" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "male" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var male `"(sum) male"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var male `"sum of male"'
04       - format `new`i'' `fmt`i''
         = format male %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 3<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr3 `"(sum) gr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr3 `"sum of gr3"'
04       - format `new`i'' `fmt`i''
         = format gr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 4<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr4 `"(sum) gr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr4 `"sum of gr4"'
04       - format `new`i'' `fmt`i''
         = format gr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 5<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr5 `"(sum) gr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr5 `"sum of gr5"'
04       - format `new`i'' `fmt`i''
         = format gr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 6<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "gr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "gr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var gr6 `"(sum) gr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var gr6 `"sum of gr6"'
04       - format `new`i'' `fmt`i''
         = format gr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 7<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr3 `"(sum) femalegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr3 `"sum of femalegr3"'
04       - format `new`i'' `fmt`i''
         = format femalegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 8<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr4 `"(sum) femalegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr4 `"sum of femalegr4"'
04       - format `new`i'' `fmt`i''
         = format femalegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 9<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr5 `"(sum) femalegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr5 `"sum of femalegr5"'
04       - format `new`i'' `fmt`i''
         = format femalegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 10<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "femalegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "femalegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var femalegr6 `"(sum) femalegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var femalegr6 `"sum of femalegr6"'
04       - format `new`i'' `fmt`i''
         = format femalegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 11<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr3" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr3" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr3 `"(sum) malegr3"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr3 `"sum of malegr3"'
04       - format `new`i'' `fmt`i''
         = format malegr3 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 12<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr4" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr4" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr4 `"(sum) malegr4"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr4 `"sum of malegr4"'
04       - format `new`i'' `fmt`i''
         = format malegr4 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 13<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr5" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr5" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr5 `"(sum) malegr5"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr5 `"sum of malegr5"'
04       - format `new`i'' `fmt`i''
         = format malegr5 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 14<=14 {c -(}
04       - if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
         = if `"sum"' == "percent" & "malegr6" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04       - else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
         = else if `"sum"' == "count" & "malegr6" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04       - else if "`clabel'"=="" {c -(}
         = else if ""=="" {c -(}
04       - label var `new`i'' `"(`fcn`i'') `lab`i''"'
         = label var malegr6 `"(sum) malegr6"'
04       - {c )-}
04       - else label var `new`i'' `"`fcn`i'' of `lab`i''"'
         = else label var malegr6 `"sum of malegr6"'
04       - format `new`i'' `fmt`i''
         = format malegr6 %8.0g
04       - local ++i
04       - {c )-}
04       - while `i'<=`n' {c -(}
         = while 15<=14 {c -(}
04         if `"`fcn`i''"' == "percent" & "`lab`i''" == "_percent" {c -(}
04         label var `new`i'' "percent"
04         {c )-}
04         else if `"`fcn`i''"' == "count" & "`lab`i''" == "_freq" {c -(}
04         label var `new`i'' "frequency"
04         {c )-}
04         else if "`clabel'"=="" {c -(}
04         label var `new`i'' `"(`fcn`i'') `lab`i''"'
04         {c )-}
04         else label var `new`i'' `"`fcn`i'' of `lab`i''"'
04         format `new`i'' `fmt`i''
04         local ++i
04         {c )-}
04       - {c )-}
04       - global S_FN
04       - global S_FNDATE
04       - if ("`fast'" == "") restore, not
         = if ("" == "") restore, not
04       - if "`graphbar'" != "" {c -(}
         = if "" != "" {c -(}
04         forvalues i = 1/`n' {c -(}
04         local retVarList `retVarList' `new`i''
04         {c )-}
04         c_local col17_graphbar "`graphbar'"
04         c_local `graphbar' "`retVarList'"
04         {c )-}
04       - if `awnote' {c -(}
         = if 0 {c -(}
04         di as txt "(note: {c -(}bf:aweight{c )-}s not used to compute {c -(}bf:count{c )-}s)"
04         {c )-}
         {hline 50} end collapse_17 {hline}
03     - if "`col17_graphbar'" != "" {c -(}
       = if "" != "" {c -(}
03       c_local `col17_graphbar' "``col17_graphbar''"
03       {c )-}
       {hline 55} end collapse {hline}
02   - rename female svyfemale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemale "number of female students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemale "number of female students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename male svymale
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymale "number of male students in the survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymale "number of male students in the survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename gr3 svygr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr4 svygr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr5 svygr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename gr6 svygr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svygr3 "number of students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr3 "number of students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr4 "number of students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr4 "number of students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr5 "number of students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr5 "number of students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svygr6 "number of students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svygr6 "number of students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename femalegr3 svyfemalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr4 svyfemalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr5 svyfemalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename femalegr6 svyfemalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svyfemalegr3 "number of female students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr3 "number of female students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr4 "number of female students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr4 "number of female students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr5 "number of female students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr5 "number of female students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svyfemalegr6 "number of female students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svyfemalegr6 "number of female students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - rename malegr3 svymalegr3
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr4 svymalegr4
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr5 svymalegr5
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - rename malegr6 svymalegr6
       {hline 55} begin rename {hline}
03     - version 12
03     - mata: rename_cmd("`3'")
       = mata: rename_cmd("")
{res}{txt}       {hline 57} end rename {hline}
02   - label var svymalegr3 "number of male students in grade 3 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr3 "number of male students in grade 3 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr4 "number of male students in grade 4 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr4 "number of male students in grade 4 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr5 "number of male students in grade 5 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr5 "number of male students in grade 5 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - label var svymalegr6 "number of male students in grade 6 in survey"
       {hline 56} begin label {hline}
03     - version 10.0
03     - local vv : display "version " string(_caller()) ", missing:"
03     - gettoken val : 0
03     - if (strpos("`val'", "val") > 0 ) {c -(}
       = if (strpos("var", "val") > 0 ) {c -(}
03       gettoken val 0 : 0
03       syntax anything [, nofix]
03       if "`fix'" != "" {c -(}
03       local fix ", nofix"
03       {c )-}
03       gettoken var rest : anything
03       while `"`rest'"' != "" {c -(}
03       gettoken lab rest : rest
03       local label "`lab'"
03       {c )-}
03       local vlist : list anything - lab
03       if "`lab'" == "." {c -(}
03       local lab ""
03       {c )-}
03       foreach var of varlist `vlist' {c -(}
03       `vv' _label `val' `var' `lab' `fix'
03       {c )-}
03       {c )-}
03     - else {c -(}
03     - `vv' _label `macval(0)'
       = version 17, missing: _label var svymalegr6 "number of male students in grade 6 in survey"
03     - {c )-}
       {hline 58} end label {hline}
02   - drop if missing(cdscode)
(0 observations deleted)
02   - merge 1:1 cdscode using $projdir/dta/enrollment/schoollevel/enr`i'
     = merge 1:1 cdscode using /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1819
       {hline 56} begin merge {hline}
03     - version 11
03     - gettoken mtype 0 : 0, parse(" ,")
03     - if (!strpos("`mtype'", ":") & "`mtype'"!="") {c -(}
       = if (!strpos("1:1", ":") & "1:1"!="") {c -(}
03       if (_caller()>=11) {c -(}
03       di as smcl as txt "{c -(}p{c )-}"
03       di as smcl "(you are using old"
03       di as smcl "{c -(}bf:merge{c )-} syntax; see"
03       di as smcl "{c -(}bf:{c -(}help merge:[D] merge{c )-}{c )-} for new syntax)"
03       di as smcl "{c -(}p_end{c )-}"
03       {c )-}
03       merge_10 `mtype' `0'
03       exit
03       {c )-}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - gettoken token : 0, parse(" ,")
03     - if ("`token'"=="_n") {c -(}
       = if ("cdscode"=="_n") {c -(}
03       if ("`mtype'"!="1:1") {c -(}
03       error_seq_not11 "`mtype'" "`origmtype'"
03       {c )-}
03       gettoken token 0 : 0, parse(" ,")
03       local mtype "_n"
03       {c )-}
03     - syntax [varlist(default=none)] using/ [, ASSERT(string) DEBUG GENerate(name) FORCE KEEP(string) KEEPUSing(string) noLabels NOGENerate noNOTEs REPLACE noREPort SORTED UPDATE ]
03     - if ("`mtype'"!="_n") {c -(}
       = if ("1:1"!="_n") {c -(}
03     - local origmtype `"`mtype'"'
       = local origmtype `"1:1"'
03     - mata: map_mtype(`"mtype"')
{res}{txt}03     - if ("`varlist'"=="") {c -(}
       = if ("cdscode"=="") {c -(}
03       error_mat_varlist "`mtype'" "`origmtype'"
03       {c )-}
03     - {c )-}
03     - else {c -(}
03       if ("`mtype'"=="_n") {c -(}
03       if ("`varlist'"!="") {c -(}
03       error_seq_varlist
03       {c )-}
03       {c )-}
03       {c )-}
03     - mata: fullfilename("using", "usingfull", "using")
{res}{txt}03     - mata: resultlist("assert")
{res}{txt}03     - mata: resultlist("keep")
{res}{txt}03     - if ("`generate'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`nogenerate'"!="") {c -(}
03       di as smcl err "{c -(}p{c )-}"
03       di as smcl "options -generate()- and -nogenerate-"
03       di as smcl "may not be specified together."
03       di as smcl err "{c -(}p_end{c )-}"
03       {c )-}
03       confirm new var `generate'
03       {c )-}
03     - if ("`replace'"!="") {c -(}
       = if (""!="") {c -(}
03       if ("`update'"=="") {c -(}
03       error_replace
03       {c )-}
03       {c )-}
03     - if ("`sorted'"=="" & "`mtype'"!="_n") {c -(}
       = if (""=="" & "1:1"!="_n") {c -(}
03     - local sortedby : sortedby
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       sort `varlist'
03       {c )-}
03     - quietly describe using "`using'", varlist short
       = quietly describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1819.dta", varlist short
         {hline 51} begin describe {hline}
04       - version 9
04       - local version : di "version " string(_caller()) ":"
04       - syntax [anything] [using] [, SImple REPLACE *]
04       - if ("`replace'"!="") {c -(}
         = if (""!="") {c -(}
04         describe_mk `0'
04         return add
04         exit
04         {c )-}
04       - local varlist `"`anything'"'
         = local varlist `""'
04       - if ("`simple'" == "") {c -(}
         = if ("" == "") {c -(}
04       - `version' _describe `0'
         = version 11: _describe using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1819.dta", varlist short
04       - return add
04       - {c )-}
04       - else {c -(}
04         if (`"`options'"' != "") {c -(}
04         di as err "simple may not be combined with other options"
04         exit 198
04         {c )-}
04         if (`"`using'"' != "") {c -(}
04         qui `version' describe `varlist' `using', varlist
04         if "`varlist'" == "" {c -(}
04         local vars "`r(varlist)'"
04         {c )-}
04         else {c -(}
04         local vars "`varlist'"
04         {c )-}
04         local wid = 2
04         local n : list sizeof vars
04         if `n'==0 {c -(}
04         exit
04         {c )-}
04         if "`c(hasicu)'" == "1" {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', udstrlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         else {c -(}
04         foreach x of local vars {c -(}
04         local wid = max(`wid', strlen(`"`x'"'))
04         {c )-}
04         {c )-}
04         local wid = `wid' + 2
04         local cols = int((`c(linesize)'+1)/`wid')
04         if `cols' < 2 {c -(}
04         foreach x of local `vars' {c -(}
04         di as txt `col' `"`x'"'
04         {c )-}
04         exit
04         {c )-}
04         local lines = `n'/`cols'
04         local lines = int(cond(`lines'>int(`lines'), `lines'+1, `lines'))
04         forvalues i=1(1)`lines' {c -(}
04         local top = min((`cols')*`lines'+`i', `n')
04         local col = 1
04         forvalues j=`i'(`lines')`top' {c -(}
04         local x : word `j' of `vars'
04         di as txt _column(`col') "`x'" _c
04         local col = `col' + `wid'
04         {c )-}
04         di as txt
04         {c )-}
04         qui `version' describe `varlist' `using', short
04         return add
04         {c )-}
04         else {c -(}
04         ds `varlist'
04         qui `version' _describe `varlist', short
04         return add
04         {c )-}
04         {c )-}
         {hline 53} end describe {hline}
03     - local sortedby "`r(sortlist)'"
       = local sortedby "cdscode"
03     - checksort "`sortedby'" "`varlist'"
       = checksort "cdscode" "cdscode"
         {hline 44} begin merge.checksort {hline}
04       - args is should
04       - local i 0
04       - return scalar sorted = 1
04       - foreach v1 of local should {c -(}
04       - local ++i
04       - local v2 : word `i' of `is'
         = local v2 : word 1 of cdscode
04       - if ("`v1'"!="`v2'") {c -(}
         = if ("cdscode"!="cdscode") {c -(}
04         return scalar sorted = 0
04         continue, break
04         {c )-}
04       - {c )-}
         {hline 46} end merge.checksort {hline}
03     - if (!r(sorted)) {c -(}
03       preserve
03       qui use "`using'", clear
03       sort `varlist'
03       tempfile using
03       qui save "`using'", replace
03       restore
03       {c )-}
03     - {c )-}
03     - if ("`nogenerate'"!="") {c -(}
       = if (""!="") {c -(}
03       tempvar mergevar
03       local mergevaristemp 1
03       {c )-}
03     - else {c -(}
03     - local mergevar = cond("`generate'"!="", "`generate'", "_merge")
       = local mergevar = cond(""!="", "", "_merge")
03     - local mergevaristemp 0
03     - {c )-}
03     - local options `update' `replace' `notes' `labels' _merge(`mergevar') `force'
       = local options     _merge(_merge) 
03     - if (bsubstr("`mtype'", 1, 1)=="1") {c -(}
       = if (bsubstr("1:1", 1, 1)=="1") {c -(}
03     - local options `options' uniqmaster
       = local options _merge(_merge) uniqmaster
03     - {c )-}
03     - if (bsubstr("`mtype'", 3, 1)=="1") {c -(}
       = if (bsubstr("1:1", 3, 1)=="1") {c -(}
03     - local options `options' uniqusing
       = local options _merge(_merge) uniqmaster uniqusing
03     - {c )-}
03     - if ("`keepusing'"!="") {c -(}
       = if (""!="") {c -(}
03       local options `options' keep(`keepusing')
03       {c )-}
03     - if ("`keep'" !="" & !strpos("`keep'" , "2")) {c -(}
       = if ("" !="" & !strpos("" , "2")) {c -(}
03       local options `options' nokeep
03       {c )-}
03     - if (_caller() > 15) {c -(}
03     - local version : di "version " string(_caller()) ": "
03     - {c )-}
03     - local _merge `"`version'_merge `varlist' using "`using'", nowarn"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1819.dta", nowarn"'
03     - local _merge `"`_merge' `options' tabulate(mresults)"'
       = local _merge `"version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1819.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)"'
03     - if ("`debug'"!="") {c -(}
       = if (""!="") {c -(}
03       di as txt _n "command is"
03       di `"`_merge'"' _n
03       {c )-}
03     - `_merge'
       = version 17: _merge cdscode using "/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/enrollment/schoollevel/enr1819.dta", nowarn _merge(_merge) uniqmaster uniqusing tabulate(mresults)
03     - if (!`mergevaristemp') {c -(}
       = if (!0) {c -(}
03     - capture label list _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("list", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label list _merge
04         {c )-}
         {hline 56} end label {hline}
03     - if (_rc) {c -(}
03     - label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("define", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label define _merge 1 "Master only (1)" 2 "Using only (2)" 3 "Matched (3)" 4 "Missing updated (4)" 5 "Nonmissing conflict (5)"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - label values `mergevar' _merge
       = label values _merge _merge
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("values", "val") > 0 ) {c -(}
04       - gettoken val 0 : 0
04       - syntax anything [, nofix]
04       - if "`fix'" != "" {c -(}
         = if "" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04       - gettoken var rest : anything
04       - while `"`rest'"' != "" {c -(}
         = while `" _merge"' != "" {c -(}
04       - gettoken lab rest : rest
04       - local label "`lab'"
         = local label "_merge"
04       - {c )-}
04       - while `"`rest'"' != "" {c -(}
         = while `""' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04       - local vlist : list anything - lab
04       - if "`lab'" == "." {c -(}
         = if "_merge" == "." {c -(}
04         local lab ""
04         {c )-}
04       - foreach var of varlist `vlist' {c -(}
         = foreach var of varlist _merge {c -(}
04       - `vv' _label `val' `var' `lab' `fix'
         = version 11, missing: _label values _merge _merge 
04       - {c )-}
04       - {c )-}
04       - else {c -(}
04         `vv' _label `macval(0)'
04         {c )-}
         {hline 56} end label {hline}
03     - label variable `mergevar' "Matching result from merge"
       = label variable _merge "Matching result from merge"
         {hline 54} begin label {hline}
04       - version 10.0
04       - local vv : display "version " string(_caller()) ", missing:"
04       - gettoken val : 0
04       - if (strpos("`val'", "val") > 0 ) {c -(}
         = if (strpos("variable", "val") > 0 ) {c -(}
04         gettoken val 0 : 0
04         syntax anything [, nofix]
04         if "`fix'" != "" {c -(}
04         local fix ", nofix"
04         {c )-}
04         gettoken var rest : anything
04         while `"`rest'"' != "" {c -(}
04         gettoken lab rest : rest
04         local label "`lab'"
04         {c )-}
04         local vlist : list anything - lab
04         if "`lab'" == "." {c -(}
04         local lab ""
04         {c )-}
04         foreach var of varlist `vlist' {c -(}
04         `vv' _label `val' `var' `lab' `fix'
04         {c )-}
04         {c )-}
04       - else {c -(}
04       - `vv' _label `macval(0)'
         = version 11, missing: _label variable _merge "Matching result from merge"
04       - {c )-}
         {hline 56} end label {hline}
03     - {c )-}
03     - if ("`assert'"!="") {c -(}
       = if (""!="") {c -(}
03       if (_caller() < 13) {c -(}
03       buildexpr expr : `mergevar' "`assert'"
03       capture assert `expr'
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       else {c -(}
03       capture checkmresults "`mresults'" "`assert'"
03       if (_rc) {c -(}
03       error_assert `mergevar' "`assert'"
03       {c )-}
03       {c )-}
03       {c )-}
03     - if ("`keep'"!="") {c -(}
       = if (""!="") {c -(}
03       buildexpr expr : `mergevar' "`keep'"
03       quietly keep if `expr'
03       {c )-}
03     - if ("`mtype'"=="1:1") {c -(}
       = if ("1:1"=="1:1") {c -(}
03     - qui count if `mergevar'==2
       = qui count if _merge==2
03     - if (r(N)==0) {c -(}
03       sort `varlist'
03       {c )-}
03     - {c )-}
03     - if (c(noisily) & "`report'"=="") {c -(}
       = if (c(noisily) & ""=="") {c -(}
03     - local isupdate = ("`replace'"!="" | "`update'"!="")
       = local isupdate = (""!="" | ""!="")
03     - present_table `isupdate' `mergevar' `mergevaristemp'
       = present_table 0 _merge 0
         {hline 40} begin merge.present_table {hline}
04       - args isupdate mergevar mergevaristemp
04       - if (!`mergevaristemp') {c -(}
         = if (!0) {c -(}
04       - local v1 "(`mergevar'==1)"
         = local v1 "(_merge==1)"
04       - local v2 "(`mergevar'==2)"
         = local v2 "(_merge==2)"
04       - local v3 "(`mergevar'==3)"
         = local v3 "(_merge==3)"
04       - local v4 "(`mergevar'==4)"
         = local v4 "(_merge==4)"
04       - local v5 "(`mergevar'==5)"
         = local v5 "(_merge==5)"
04       - {c )-}
04       - quietly {c -(}
04       - count if `mergevar'==1
         = count if _merge==1
04       - local m1 = r(N)
04       - count if `mergevar'==2
         = count if _merge==2
04       - local m2 = r(N)
04       - if (`isupdate') {c -(}
         = if (0) {c -(}
04         count if `mergevar'==3
04         local m3 = r(N)
04         count if `mergevar'==4
04         local m4 = r(N)
04         local m5 = _N - `m1' - `m2' - `m3' - `m4'
04         {c )-}
04       - else {c -(}
04       - local m3 = _N - `m1' - `m2'
         = local m3 = _N - 155 - 8878
04       - {c )-}
04       - {c )-}
04       - di

04       - di as smcl as txt _col(5) "Result" _col(33) "Number of obs"
{col 5}Result{col 33}Number of obs
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
04       - di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (`m1'+`m2')
         = di as smcl as txt _col(5) "Not matched" _col(30) as res %16.0fc (155+8878)
{col 5}Not matched{col 30}{res}           9,033
{txt}04       - if (`m1'|`m2') {c -(}
         = if (155|8878) {c -(}
04       - di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc `m1' as txt "  `v1'"
         = di as smcl as txt _col(9) "from master" _col(30) as res %16.0fc 155 as txt "  (_merge==1)"
{col 9}from master{col 30}{res}             155{txt}  (_merge==1)
04       - di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc `m2' as txt "  `v2'"
         = di as smcl as txt _col(9) "from using" _col(30) as res %16.0fc 8878 as txt "  (_merge==2)"
{col 9}from using{col 30}{res}           8,878{txt}  (_merge==2)
04       - di

04       - {c )-}
04       - if (!`isupdate') {c -(}
         = if (!0) {c -(}
04       - di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc `m3' as txt "  `v3'"
         = di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc 1643 as txt "  (_merge==3)"
{col 5}Matched{col 30}{res}           1,643{txt}  (_merge==3)
04       - {c )-}
04       - else {c -(}
04         if (`m1'==0 & `m2'==0) {c -(}
04         di
04         {c )-}
04         di as smcl as txt _col(5) "Matched" _col(30) as res %16.0fc (`m3'+`m4'+`m5')
04         di as smcl as txt _col(9) "not updated" _col(30) as res %16.0fc `m3' as txt "  `v3'"
04         di as smcl as txt _col(9) "missing updated" _col(30) as res %16.0fc `m4' as txt "  `v4'"
04         di as smcl as txt _col(9) "nonmissing conflict" _col(30) as res %16.0fc `m5' as txt "  `v5'"
04         {c )-}
04       - di as smcl as txt _col(5) "{c -(}hline 41{c )-}"
{col 5}{hline 41}
         {hline 42} end merge.present_table {hline}
03     - {c )-}
       {hline 58} end merge {hline}
02   - drop if _merge != 3
(9,033 observations deleted)
02   - drop _merge
02   - compress
  variable {bf}{res}gr1blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr2blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr6blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr7blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr8blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr9blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr10blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr11blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12noethnicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12asianenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12filipinoenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12hispanicenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12blackenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}gr12whiteenr{sf}{txt} was {bf}{res}int{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymale{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svygr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svyfemalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svyfemalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
  {txt}variable {bf}{res}svymalegr3{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr4{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr5{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}byte{sf}
  {txt}variable {bf}{res}svymalegr6{sf}{txt} was {bf}{res}double{sf}{txt} now {bf}{res}int{sf}
{txt}  (190,588 bytes saved)
02   - save $projdir/dta/demographics/elementary/elemdemo`i', replace
     = save /home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1819, replace
{p 0 4 2}
file {bf}
/home/research/ca_ed_lab/users/chesun/gsr/caschls/dta/demographics/elementary/elemdemo1819.dta{rm}
saved
{p_end}
02   - {c )-}

{com}. 
.  log close elemdemographics
      {txt}name:  {res}elemdemographics
       {txt}log:  {res}/home/research/ca_ed_lab/users/chesun/gsr/caschls/log/build/sample/elemdemographics.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res} 7 Apr 2022, 11:05:03
{txt}{.-}
{smcl}
{txt}{sf}{ul off}